'use strict';const _0x4862d8=_0xa835;(function(_0x50d5bc,_0x2f2bdb){const _0x550999=_0xa835,_0x1690e7=_0x50d5bc();while(!![]){try{const _0x555ad0=parseInt(_0x550999(0x18c))/0x1*(parseInt(_0x550999(0x17e))/0x2)+parseInt(_0x550999(0x173))/0x3+parseInt(_0x550999(0x16e))/0x4+-parseInt(_0x550999(0x194))/0x5*(-parseInt(_0x550999(0x181))/0x6)+parseInt(_0x550999(0x199))/0x7+-parseInt(_0x550999(0x185))/0x8+-parseInt(_0x550999(0x180))/0x9*(parseInt(_0x550999(0x182))/0xa);if(_0x555ad0===_0x2f2bdb)break;else _0x1690e7['push'](_0x1690e7['shift']());}catch(_0x1a075b){_0x1690e7['push'](_0x1690e7['shift']());}}}(_0x3e26,0xd1e11));var __decorate=this&&this[_0x4862d8(0x18e)]||function(_0x75ee25,_0x3ddc4d,_0x342e1b,_0x4252d2){const _0x4312ef=_0x4862d8;var _0x4042b7=arguments[_0x4312ef(0x198)],_0x231b3f=_0x4042b7<0x3?_0x3ddc4d:_0x4252d2===null?_0x4252d2=Object[_0x4312ef(0x15d)](_0x3ddc4d,_0x342e1b):_0x4252d2,_0x3e2931;if(typeof Reflect===_0x4312ef(0x191)&&typeof Reflect[_0x4312ef(0x184)]===_0x4312ef(0x17b))_0x231b3f=Reflect[_0x4312ef(0x184)](_0x75ee25,_0x3ddc4d,_0x342e1b,_0x4252d2);else{for(var _0x15015b=_0x75ee25['length']-0x1;_0x15015b>=0x0;_0x15015b--)if(_0x3e2931=_0x75ee25[_0x15015b])_0x231b3f=(_0x4042b7<0x3?_0x3e2931(_0x231b3f):_0x4042b7>0x3?_0x3e2931(_0x3ddc4d,_0x342e1b,_0x231b3f):_0x3e2931(_0x3ddc4d,_0x342e1b))||_0x231b3f;}return _0x4042b7>0x3&&_0x231b3f&&Object['defineProperty'](_0x3ddc4d,_0x342e1b,_0x231b3f),_0x231b3f;},__metadata=this&&this[_0x4862d8(0x16b)]||function(_0x177e67,_0x440cc8){const _0x2d5336=_0x4862d8;if(typeof Reflect===_0x2d5336(0x191)&&typeof Reflect[_0x2d5336(0x190)]===_0x2d5336(0x17b))return Reflect[_0x2d5336(0x190)](_0x177e67,_0x440cc8);};Object[_0x4862d8(0x188)](exports,'__esModule',{'value':!![]}),exports['JwtAuthGuard']=void 0x0;const redisCache_service_1=require(_0x4862d8(0x18a)),common_1=require('@nestjs/common'),passport_1=require(_0x4862d8(0x193)),jwt=require(_0x4862d8(0x169)),core_1=require('@nestjs/core'),globalConfig_service_1=require(_0x4862d8(0x16a)),auth_service_1=require(_0x4862d8(0x172));let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1[_0x4862d8(0x17d)])(_0x4862d8(0x160)){constructor(_0x13f7a8,_0x47138c,_0x5ac57a,_0x2c3ac5){const _0x186f8f=_0x4862d8;super(),this[_0x186f8f(0x171)]=_0x13f7a8,this['moduleRef']=_0x47138c,this[_0x186f8f(0x17c)]=_0x5ac57a,this[_0x186f8f(0x16f)]=_0x2c3ac5;}async[_0x4862d8(0x167)](_0x3e913a){const _0x289674=_0x4862d8;!this[_0x289674(0x171)]&&(this[_0x289674(0x171)]=this[_0x289674(0x168)][_0x289674(0x175)](redisCache_service_1[_0x289674(0x177)],{'strict':![]}));const _0x417b45=_0x3e913a[_0x289674(0x197)]()[_0x289674(0x17a)](),_0x46af98=_0x417b45[_0x289674(0x163)][_0x289674(0x192)],_0x2372e3=this[_0x289674(0x176)](_0x417b45);_0x417b45[_0x289674(0x15e)]=this[_0x289674(0x187)](_0x2372e3);const _0x77716e=this[_0x289674(0x17c)]['getNineAiToken']();return await this[_0x289674(0x171)][_0x289674(0x18f)](_0x2372e3,_0x417b45),!![];}[_0x4862d8(0x176)](_0x51fa1b){const _0x119a0b=_0x4862d8;if(!_0x51fa1b[_0x119a0b(0x163)][_0x119a0b(0x189)]){if(_0x51fa1b[_0x119a0b(0x163)][_0x119a0b(0x15f)]){let _0x4f0e80=_0x51fa1b[_0x119a0b(0x163)][_0x119a0b(0x15f)];_0x4f0e80>0x7fffffff&&(_0x4f0e80=_0x4f0e80[_0x119a0b(0x183)]()[_0x119a0b(0x16d)](-0x9),_0x4f0e80=Number(String(Number(_0x4f0e80))));const _0x1312f6=this[_0x119a0b(0x16f)][_0x119a0b(0x170)](_0x4f0e80);return _0x1312f6;}return null;}const _0xafd7c7=_0x51fa1b[_0x119a0b(0x163)][_0x119a0b(0x189)][_0x119a0b(0x195)]('\x20');if(_0xafd7c7[_0x119a0b(0x198)]!==0x2||_0xafd7c7[0x0]!==_0x119a0b(0x178))return null;return _0xafd7c7[0x1];}[_0x4862d8(0x187)](_0x82740e){const _0x4acb02=_0x4862d8;try{return jwt[_0x4acb02(0x162)](_0x82740e,process['env'][_0x4acb02(0x164)]);}catch(_0x490e8b){throw new common_1[(_0x4acb02(0x174))](_0x4acb02(0x186),common_1[_0x4acb02(0x16c)][_0x4acb02(0x17f)]);}}['handleRequest'](_0x201027,_0x64a283,_0x354e2a){const _0x32dcd5=_0x4862d8;if(_0x201027||!_0x64a283){console[_0x32dcd5(0x18b)](_0x32dcd5(0x161),_0x201027);throw _0x201027||new common_1[(_0x32dcd5(0x18d))]();}return _0x64a283;}};function _0xa835(_0x49c0b2,_0x4f00c1){const _0x3e268f=_0x3e26();return _0xa835=function(_0xa83553,_0x565305){_0xa83553=_0xa83553-0x15d;let _0x38fc55=_0x3e268f[_0xa83553];return _0x38fc55;},_0xa835(_0x49c0b2,_0x4f00c1);}JwtAuthGuard=__decorate([(0x0,common_1[_0x4862d8(0x166)])(),__metadata(_0x4862d8(0x165),[redisCache_service_1[_0x4862d8(0x177)],core_1[_0x4862d8(0x196)],globalConfig_service_1['GlobalConfigService'],auth_service_1[_0x4862d8(0x179)]])],JwtAuthGuard),exports['JwtAuthGuard']=JwtAuthGuard;function _0x3e26(){const _0x295aa9=['authorization','../../modules/redisCache/redisCache.service','log','76087vOTWyP','UnauthorizedException','__decorate','checkTokenAuth','metadata','object','x-website-domain','@nestjs/passport','2745830RakNRx','split','ModuleRef','switchToHttp','length','4936148uYqfTA','getOwnPropertyDescriptor','user','fingerprint','jwt','err:\x20','verify','headers','JWT_SECRET','design:paramtypes','Injectable','canActivate','moduleRef','jsonwebtoken','../../modules/globalConfig/globalConfig.service','__metadata','HttpStatus','slice','4870012qdhXbs','authService','createTokenFromFingerprint','redisCacheService','../../modules/auth/auth.service','2032590iBLWBC','HttpException','get','extractToken','RedisCacheService','Bearer','AuthService','getRequest','function','globalConfigService','AuthGuard','26WnDntY','UNAUTHORIZED','6381ugfgmF','12YMqJJi','30950iOMEGi','toString','decorate','13069120txlbOd','亲爱的用户,请登录后继续操作,我们正在等您的到来！','validateToken','defineProperty'];_0x3e26=function(){return _0x295aa9;};return _0x3e26();}