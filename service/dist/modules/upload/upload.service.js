'use strict';const _0x2e15d2=_0x5a19;(function(_0x2da2b5,_0x3cdefb){const _0x171358=_0x5a19,_0x11990f=_0x2da2b5();while(!![]){try{const _0x4d3e22=parseInt(_0x171358(0x1c4))/0x1*(-parseInt(_0x171358(0x1c1))/0x2)+-parseInt(_0x171358(0x1ca))/0x3+parseInt(_0x171358(0x210))/0x4+-parseInt(_0x171358(0x22d))/0x5+-parseInt(_0x171358(0x1c2))/0x6*(-parseInt(_0x171358(0x1c5))/0x7)+-parseInt(_0x171358(0x20a))/0x8+parseInt(_0x171358(0x1e4))/0x9*(parseInt(_0x171358(0x1c9))/0xa);if(_0x4d3e22===_0x3cdefb)break;else _0x11990f['push'](_0x11990f['shift']());}catch(_0x58c956){_0x11990f['push'](_0x11990f['shift']());}}}(_0x39d6,0x19741));function _0x5a19(_0x18d933,_0x2e374d){const _0x39d6c8=_0x39d6();return _0x5a19=function(_0x5a1972,_0x2757fa){_0x5a1972=_0x5a1972-0x1be;let _0x30aaf4=_0x39d6c8[_0x5a1972];return _0x30aaf4;},_0x5a19(_0x18d933,_0x2e374d);}var __decorate=this&&this[_0x2e15d2(0x216)]||function(_0x4870f2,_0x279160,_0x5a371b,_0x70e9f9){const _0x29de80=_0x2e15d2;var _0x3143f6=arguments[_0x29de80(0x1c0)],_0x480d00=_0x3143f6<0x3?_0x279160:_0x70e9f9===null?_0x70e9f9=Object[_0x29de80(0x1d2)](_0x279160,_0x5a371b):_0x70e9f9,_0x131903;if(typeof Reflect===_0x29de80(0x20f)&&typeof Reflect[_0x29de80(0x1f4)]===_0x29de80(0x1ee))_0x480d00=Reflect[_0x29de80(0x1f4)](_0x4870f2,_0x279160,_0x5a371b,_0x70e9f9);else{for(var _0x4c4a52=_0x4870f2[_0x29de80(0x1c0)]-0x1;_0x4c4a52>=0x0;_0x4c4a52--)if(_0x131903=_0x4870f2[_0x4c4a52])_0x480d00=(_0x3143f6<0x3?_0x131903(_0x480d00):_0x3143f6>0x3?_0x131903(_0x279160,_0x5a371b,_0x480d00):_0x131903(_0x279160,_0x5a371b))||_0x480d00;}return _0x3143f6>0x3&&_0x480d00&&Object[_0x29de80(0x212)](_0x279160,_0x5a371b,_0x480d00),_0x480d00;},__metadata=this&&this['__metadata']||function(_0x14bad1,_0x4a49a5){const _0x576a28=_0x2e15d2;if(typeof Reflect===_0x576a28(0x20f)&&typeof Reflect[_0x576a28(0x200)]==='function')return Reflect[_0x576a28(0x200)](_0x14bad1,_0x4a49a5);};function _0x39d6(){const _0x2e1a9e=['80TgdHcb','263157jvCLSF','aliOssBucket','url','Logger','env','uploadFileByChevereto','key','tencentCos','getOwnPropertyDescriptor','Location','globalConfigService','source','uploadFileByTencentCos','get','axios','aliyun','uploadFileByAliOssFromUrl','post','design:paramtypes','HttpException','上传图片失败[Chevereto][url]','uploadFileByCheveretoFromUrl',',\x20Chevereto:\x20','endsWith','message','https://cdn.discordapp.com/attachments/1097409128491651135/1169910551275638855/snine_60b5c001b_A_young_girl_smiles_brightly_in_the_pure_blue_f_8a41fe5f-5101-4c1e-b948-a748a0583577.png?ex=65571f1b&is=6544aa1b&hm=b82f2d88224eb7942e24c63a8e519c7693de12a2b96daa0f327dfb8f691b1480&','98784wffPUj','上传配置状态\x20-\x20腾讯云:\x20','default','http://172.247.48.137:8000','tencentCosAcceleratedDomain','HttpStatus','getConfigs','/mj/replaceUpload',',\x20阿里云:\x20','mjProxy','function','put','log','cosRegion','上传图片失败[ALI][url]','getBufferFromUrl','decorate','aliOssRegion','error','uploadFileFromUrl','stream','replace','../../common/utils','aliOssStatus','上传图片失败[ten][url]','append','chevereto','uploadFile','metadata','png','上传图片失败[ten]','getUploadConfig','ali','aliOssAccessKeySecret','上传图片失败[Chevereto]','上传图片失败[ali]','uploadFileByAliOss','获取图片资源失败、请重新试试吧！','508520qdkiUA','ali\x20开始上传','catch','slice','cheveretoUploadPath','object','475376dGZsxC','debug','defineProperty','res:\x20','cos-nodejs-sdk-v5','https://$2','__decorate','mjProxyUrl','Injectable','TODO->error:\x20\x20','tencent','then','../globalConfig/globalConfig.service','onModuleInit','removeSpecialCharacters','准备上传文件:\x20','response','https://','ali-oss','ISDEV','cosBucket','cosSecretKey','BAD_REQUEST','mjtest.png','uploadFileByTencentCosFromUrl','请先前往后台配置上传图片的方式','form-data','stream-to-buffer','aliOssAccessKeyId','501255IXYXkE','tencentCosStatus','data','cheveretoStatus','上传失败:\x20','image','createRandomUid','length','728zZAYuy','1126344CYWqiZ','error:\x20','106nJjbxa','7ldvzcl','__esModule','使用Chevereto上传','UploadService'];_0x39d6=function(){return _0x2e1a9e;};return _0x39d6();}Object[_0x2e15d2(0x212)](exports,_0x2e15d2(0x1c6),{'value':!![]}),exports[_0x2e15d2(0x1c8)]=void 0x0;const common_1=require('@nestjs/common'),TENCENTCOS=require(_0x2e15d2(0x214)),ALIOSS=require(_0x2e15d2(0x222)),axios_1=require(_0x2e15d2(0x1d8)),streamToBuffer=require(_0x2e15d2(0x22b)),utils_1=require(_0x2e15d2(0x1fa)),globalConfig_service_1=require(_0x2e15d2(0x21c)),FormData=require(_0x2e15d2(0x22a));let UploadService=class UploadService{constructor(_0xcce347){const _0x29944c=_0x2e15d2;this[_0x29944c(0x1d4)]=_0xcce347;}[_0x2e15d2(0x21d)](){}async[_0x2e15d2(0x1ff)](_0x528898){const _0x48656b=_0x2e15d2,{filename:_0x1c77af,originalname:_0x2918ea,buffer:_0x29cacb,dir:dir='ai',mimetype:_0x7ec22e}=_0x528898,_0x2e471d=_0x7ec22e?_0x7ec22e['split']('/')[0x1]:'',_0x45de36=_0x2918ea||_0x1c77af;common_1[_0x48656b(0x1cd)][_0x48656b(0x211)](_0x48656b(0x21f)+_0x45de36+',\x20类型:\x20'+_0x2e471d,_0x48656b(0x1c8));const {tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this[_0x48656b(0x1d4)]['getConfigs']([_0x48656b(0x22e),_0x48656b(0x1fb),_0x48656b(0x230)]);common_1[_0x48656b(0x1cd)][_0x48656b(0x211)](_0x48656b(0x1e5)+tencentCosStatus+_0x48656b(0x1ec)+aliOssStatus+_0x48656b(0x1e0)+cheveretoStatus,'UploadService');if(!Number(tencentCosStatus)&&!Number(aliOssStatus)&&!Number(cheveretoStatus))throw new common_1[(_0x48656b(0x1dd))](_0x48656b(0x229),common_1[_0x48656b(0x1e9)][_0x48656b(0x226)]);try{if(Number(tencentCosStatus))return common_1['Logger'][_0x48656b(0x211)]('使用腾讯云COS上传',_0x48656b(0x1c8)),await this['uploadFileByTencentCos']({'filename':_0x45de36,'buffer':_0x29cacb,'dir':dir,'fileTyle':_0x2e471d});if(Number(aliOssStatus))return common_1[_0x48656b(0x1cd)]['debug']('使用阿里云OSS上传','UploadService'),await this[_0x48656b(0x208)]({'filename':_0x45de36,'buffer':_0x29cacb,'dir':dir,'fileTyle':_0x2e471d});if(Number(cheveretoStatus)){common_1[_0x48656b(0x1cd)][_0x48656b(0x211)](_0x48656b(0x1c7),_0x48656b(0x1c8));const {filename:_0x5370a6,buffer:_0x3b7af5,dir:_0x39ca52}=_0x528898;return await this[_0x48656b(0x1cf)]({'filename':_0x5370a6,'buffer':_0x3b7af5['toString']('base64'),'dir':_0x39ca52,'fileTyle':_0x2e471d});}}catch(_0x5b3524){common_1['Logger'][_0x48656b(0x1f6)](_0x48656b(0x231)+_0x5b3524[_0x48656b(0x1e2)],'UploadService');throw _0x5b3524;}}async['getUploadType'](){const _0x5129ca=_0x2e15d2,{tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this[_0x5129ca(0x1d4)][_0x5129ca(0x1ea)](['tencentCosStatus',_0x5129ca(0x1fb),'cheveretoStatus']);if(Number(tencentCosStatus))return'tencent';if(Number(aliOssStatus))return _0x5129ca(0x204);if(Number(cheveretoStatus))return _0x5129ca(0x1fe);}async[_0x2e15d2(0x1f7)]({filename:_0x2b4000,url:_0x1bd1f8,dir:dir='mj'}){const _0x55ec8a=_0x2e15d2;dir=process[_0x55ec8a(0x1ce)][_0x55ec8a(0x223)]?'mjdev':dir;const {tencentCosStatus:tencentCosStatus=0x0,aliOssStatus:aliOssStatus=0x0,cheveretoStatus:cheveretoStatus=0x0}=await this[_0x55ec8a(0x1d4)][_0x55ec8a(0x1ea)]([_0x55ec8a(0x22e),_0x55ec8a(0x1fb),'cheveretoStatus']);if(!Number(tencentCosStatus)&&!Number(aliOssStatus)&&!Number(cheveretoStatus))throw new common_1[(_0x55ec8a(0x1dd))]('请先前往后台配置上传图片的方式',common_1['HttpStatus'][_0x55ec8a(0x226)]);if(Number(tencentCosStatus))return this[_0x55ec8a(0x228)]({'filename':_0x2b4000,'url':_0x1bd1f8,'dir':dir});if(Number(aliOssStatus)){const _0x268b34=await this['uploadFileByAliOssFromUrl']({'filename':_0x2b4000,'url':_0x1bd1f8,'dir':dir});return _0x268b34;}if(Number(cheveretoStatus))return await this[_0x55ec8a(0x1df)]({'filename':_0x2b4000,'url':_0x1bd1f8,'dir':dir});}async[_0x2e15d2(0x1d6)]({filename:_0x311237,buffer:_0x15599e,dir:_0x461fee,fileTyle:_0x4c8cb4}){const _0x1695d3=_0x2e15d2,{Bucket:_0x126d1d,Region:_0x1adf22,SecretId:_0x3c27a3,SecretKey:_0x42a201}=await this[_0x1695d3(0x203)]('tencent');this[_0x1695d3(0x1d1)]=new TENCENTCOS({'SecretId':_0x3c27a3,'SecretKey':_0x42a201,'FileParallelLimit':0xa});try{return new Promise(async(_0x4be400,_0x19a735)=>{const _0x5b1168=_0x1695d3,_0x2a4032=_0x4c8cb4||_0x5b1168(0x201);this['tencentCos']['putObject']({'Bucket':(0x0,utils_1[_0x5b1168(0x21e)])(_0x126d1d),'Region':(0x0,utils_1[_0x5b1168(0x21e)])(_0x1adf22),'Key':_0x461fee+'/'+(_0x311237||(0x0,utils_1[_0x5b1168(0x1bf)])()+'.'+_0x4c8cb4),'StorageClass':'STANDARD','Body':_0x15599e},async(_0x5eaf7e,_0x5377cc)=>{const _0x9a70b7=_0x5b1168;if(_0x5eaf7e)return console[_0x9a70b7(0x1f0)]('cos\x20->\x20err:\x20',_0x5eaf7e),_0x19a735(_0x5eaf7e);let _0x158250=_0x5377cc[_0x9a70b7(0x1d3)][_0x9a70b7(0x1f9)](/^(http:\/\/|https:\/\/|\/\/|)(.*)/,_0x9a70b7(0x215));const {acceleratedDomain:_0x616d53}=await this[_0x9a70b7(0x203)]('tencent');return _0x616d53&&(_0x158250=_0x158250['replace'](/^(https:\/\/[^/]+)(\/.*)$/,_0x9a70b7(0x221)+_0x616d53+'$2'),console[_0x9a70b7(0x1f0)]('当前已开启全球加速----------------->',_0x158250)),_0x4be400(_0x158250);});});}catch(_0x909fc7){console[_0x1695d3(0x1f0)](_0x1695d3(0x1c3),_0x909fc7);throw new common_1[(_0x1695d3(0x1dd))](_0x1695d3(0x202),common_1[_0x1695d3(0x1e9)][_0x1695d3(0x226)]);}}async['uploadFileByTencentCosFromUrl']({filename:_0x138d40,url:_0x349c45,dir:_0x447816}){const _0x2ad813=_0x2e15d2,{Bucket:_0x312b44,Region:_0x1f5d07,SecretId:_0x2beefe,SecretKey:_0x4ee2a6}=await this[_0x2ad813(0x203)](_0x2ad813(0x21a));this[_0x2ad813(0x1d1)]=new TENCENTCOS({'SecretId':_0x2beefe,'SecretKey':_0x4ee2a6,'FileParallelLimit':0xa});try{const _0x5e673f=await this[_0x2ad813(0x1d4)]['getConfigs']([_0x2ad813(0x1ed)])||0x0,_0x377edf=await this[_0x2ad813(0x1f3)](_0x349c45);return await this[_0x2ad813(0x1d6)]({'filename':_0x138d40,'buffer':_0x377edf,'dir':_0x447816,'fileTyle':''});}catch(_0x2e74d3){console[_0x2ad813(0x1f0)](_0x2ad813(0x219),_0x2e74d3);throw new common_1[(_0x2ad813(0x1dd))](_0x2ad813(0x1fc),common_1[_0x2ad813(0x1e9)]['BAD_REQUEST']);}}async['uploadFileByAliOss']({filename:_0x5a7579,buffer:_0x3ffc09,dir:_0x1e5314,fileTyle:fileTyle=_0x2e15d2(0x201)}){const _0x215c76=_0x2e15d2,{region:_0x45f265,bucket:_0x57997d,accessKeyId:_0x52acf4,accessKeySecret:_0x584d01}=await this[_0x215c76(0x203)](_0x215c76(0x204)),_0xf6e8a2=new ALIOSS({'region':(0x0,utils_1['removeSpecialCharacters'])(_0x45f265),'accessKeyId':_0x52acf4,'accessKeySecret':_0x584d01,'bucket':(0x0,utils_1[_0x215c76(0x21e)])(_0x57997d)});try{return console[_0x215c76(0x1f0)](_0x215c76(0x20b)),new Promise((_0x4d2652,_0x3fc541)=>{const _0x1ab3f3=_0x215c76;_0xf6e8a2[_0x1ab3f3(0x1ef)](_0x1e5314+'/'+(_0x5a7579||(0x0,utils_1[_0x1ab3f3(0x1bf)])()+'.'+fileTyle),_0x3ffc09)[_0x1ab3f3(0x21b)](_0x8fb29=>{const _0x5b9fb3=_0x1ab3f3;_0x4d2652(_0x8fb29[_0x5b9fb3(0x1cc)]);})[_0x1ab3f3(0x20c)](_0x19547e=>{_0x3fc541(_0x19547e);});});}catch(_0x368363){throw new common_1[(_0x215c76(0x1dd))](_0x215c76(0x207),common_1[_0x215c76(0x1e9)][_0x215c76(0x226)]);}}async[_0x2e15d2(0x1da)]({filename:_0x1b9db1,url:_0x2fdd26,dir:_0x399621}){const _0x3d00da=_0x2e15d2,{region:_0x59bada,bucket:_0x4e494f,accessKeyId:_0x49df69,accessKeySecret:_0x52555b}=await this[_0x3d00da(0x203)]('ali'),_0x12faf8=new ALIOSS({'region':_0x59bada,'accessKeyId':_0x49df69,'accessKeySecret':_0x52555b,'bucket':_0x4e494f});try{const _0x34418e=await this[_0x3d00da(0x1d4)][_0x3d00da(0x1ea)]([_0x3d00da(0x1ed)])||0x0;if(Number(_0x34418e)===0x1){const _0x57d730={'url':_0x2fdd26,'cosParams':{'region':_0x59bada,'bucket':_0x4e494f,'accessKeyId':_0x49df69,'accessKeySecret':_0x52555b},'cosType':_0x3d00da(0x1d9)},_0x39892d=await this[_0x3d00da(0x1d4)][_0x3d00da(0x1ea)]([_0x3d00da(0x217)])||_0x3d00da(0x1e7),_0x13f787=await axios_1[_0x3d00da(0x1e6)][_0x3d00da(0x1db)](_0x39892d+_0x3d00da(0x1eb),_0x57d730);if(!(_0x13f787===null||_0x13f787===void 0x0?void 0x0:_0x13f787[_0x3d00da(0x22f)]))throw new common_1[(_0x3d00da(0x1dd))](_0x3d00da(0x1f2),common_1[_0x3d00da(0x1e9)][_0x3d00da(0x226)]);return _0x13f787['data'];}else{const _0x3cf1a1=await this['getBufferFromUrl'](_0x2fdd26);return await this['uploadFileByAliOss']({'filename':_0x1b9db1,'buffer':_0x3cf1a1,'dir':_0x399621});}}catch(_0x5b236f){throw new common_1[(_0x3d00da(0x1dd))]('上传图片失败[ALI][url]',common_1[_0x3d00da(0x1e9)]['BAD_REQUEST']);}}async[_0x2e15d2(0x1cf)]({filename:filename='',buffer:_0x413ba5,dir:dir='ai',fileTyle:fileTyle=_0x2e15d2(0x201)}){const _0x5beca3=_0x2e15d2;var _0x118f60;const {key:_0x504c8d,uploadPath:_0x72c394}=await this[_0x5beca3(0x203)](_0x5beca3(0x1fe));let _0x2a92f7=_0x72c394[_0x5beca3(0x1e1)]('/')?_0x72c394[_0x5beca3(0x20d)](0x0,-0x1):_0x72c394;const _0x4161d1=new FormData();_0x4161d1['append'](_0x5beca3(0x1d5),_0x413ba5),_0x4161d1[_0x5beca3(0x1fd)](_0x5beca3(0x1d0),_0x504c8d);try{const _0x3c8531=await axios_1[_0x5beca3(0x1e6)][_0x5beca3(0x1db)](_0x2a92f7,_0x4161d1,{'headers':{'X-API-Key':_0x504c8d}});if((_0x3c8531===null||_0x3c8531===void 0x0?void 0x0:_0x3c8531['status'])===0xc8)return _0x3c8531[_0x5beca3(0x22f)][_0x5beca3(0x1be)][_0x5beca3(0x1cc)];else console[_0x5beca3(0x1f0)]('Chevereto\x20--->\x20res',_0x3c8531===null||_0x3c8531===void 0x0?void 0x0:_0x3c8531[_0x5beca3(0x22f)]['code'],_0x3c8531===null||_0x3c8531===void 0x0?void 0x0:_0x3c8531['data'][_0x5beca3(0x1f6)][_0x5beca3(0x1e2)]),common_1[_0x5beca3(0x1cd)][_0x5beca3(0x1f6)](_0x5beca3(0x206),JSON['stringify'](_0x3c8531[_0x5beca3(0x22f)]));}catch(_0x32b393){console[_0x5beca3(0x1f0)](_0x5beca3(0x1c3),_0x32b393);throw new common_1[(_0x5beca3(0x1dd))]('上传图片失败[Chevereto|buffer]\x20-->\x20'+((_0x118f60=_0x32b393[_0x5beca3(0x220)])===null||_0x118f60===void 0x0?void 0x0:_0x118f60['data'][_0x5beca3(0x1f6)][_0x5beca3(0x1e2)]),common_1[_0x5beca3(0x1e9)][_0x5beca3(0x226)]);}}async['uploadFileByCheveretoFromUrl']({filename:_0x4d35de,url:_0x412a52,dir:_0x215a00}){const _0x4030a2=_0x2e15d2;try{const _0x16ade3=await this[_0x4030a2(0x1d4)]['getConfigs']([_0x4030a2(0x1ed)])||0x0;if(Number(_0x16ade3)===0x1){const {key:_0x1e741c,uploadPath:_0x33ea90}=await this[_0x4030a2(0x203)](_0x4030a2(0x1fe));let _0x585fa9=_0x33ea90[_0x4030a2(0x1e1)]('/')?_0x33ea90['slice'](0x0,-0x1):_0x33ea90;const _0xfb7905={'cosType':'chevereto','url':_0x412a52,'cosParams':{'key':_0x1e741c,'uploadPath':_0x585fa9}},_0x681098=await this[_0x4030a2(0x1d4)][_0x4030a2(0x1ea)](['mjProxyUrl'])||'http://172.247.48.137:8000',_0x11b7ff=await axios_1[_0x4030a2(0x1e6)][_0x4030a2(0x1db)](_0x681098+'/mj/replaceUpload',_0xfb7905);if(!_0x11b7ff[_0x4030a2(0x22f)])throw new common_1[(_0x4030a2(0x1dd))](_0x4030a2(0x1de),common_1[_0x4030a2(0x1e9)][_0x4030a2(0x226)]);return _0x11b7ff['data'];}else{const _0x2e0da1=await this['getBufferFromUrl'](_0x412a52);return await this[_0x4030a2(0x1cf)]({'filename':_0x4d35de,'buffer':_0x2e0da1,'dir':_0x215a00});}}catch(_0x32e863){console['log'](_0x4030a2(0x1c3),_0x32e863);throw new common_1[(_0x4030a2(0x1dd))](_0x32e863[_0x4030a2(0x220)],common_1[_0x4030a2(0x1e9)]['BAD_REQUEST']);}}async[_0x2e15d2(0x203)](_0x2df348){const _0xe1c331=_0x2e15d2;if(_0x2df348===_0xe1c331(0x204)){const {aliOssRegion:_0x440431,aliOssBucket:_0x2889f5,aliOssAccessKeyId:_0x4fe71c,aliOssAccessKeySecret:_0x395d05}=await this[_0xe1c331(0x1d4)][_0xe1c331(0x1ea)]([_0xe1c331(0x1f5),_0xe1c331(0x1cb),_0xe1c331(0x22c),_0xe1c331(0x205)]);return{'region':_0x440431,'bucket':_0x2889f5,'accessKeyId':_0x4fe71c,'accessKeySecret':_0x395d05};}if(_0x2df348===_0xe1c331(0x21a)){const {cosBucket:_0x129f66,cosRegion:_0x18cbb8,cosSecretId:_0x5f1ff5,cosSecretKey:_0x2cbe08,tencentCosAcceleratedDomain:_0x2174ae}=await this[_0xe1c331(0x1d4)][_0xe1c331(0x1ea)]([_0xe1c331(0x224),_0xe1c331(0x1f1),'cosSecretId',_0xe1c331(0x225),_0xe1c331(0x1e8)]);return{'Bucket':_0x129f66,'Region':_0x18cbb8,'SecretId':_0x5f1ff5,'SecretKey':_0x2cbe08,'acceleratedDomain':_0x2174ae};}if(_0x2df348===_0xe1c331(0x1fe)){const {cheveretoKey:_0x2a7f80,cheveretoUploadPath:_0x468b71}=await this[_0xe1c331(0x1d4)][_0xe1c331(0x1ea)](['cheveretoKey',_0xe1c331(0x20e)]);return{'key':_0x2a7f80,'uploadPath':_0x468b71};}}async['test'](){const _0x3147f8=_0x2e15d2,_0x39b10e={'filename':_0x3147f8(0x227),'dir':'mj','url':_0x3147f8(0x1e3)},_0x3332bc=await this[_0x3147f8(0x1f7)](_0x39b10e);return console['log'](_0x3147f8(0x213),_0x3332bc),_0x3332bc;}async[_0x2e15d2(0x1f3)](_0x2ac2f7){const _0x1eb2fe=_0x2e15d2,_0x551eaa=await this[_0x1eb2fe(0x1d4)]['getConfigs']([_0x1eb2fe(0x1ed)])||0x0,_0x2fbf98=await axios_1[_0x1eb2fe(0x1e6)][_0x1eb2fe(0x1d7)](_0x2ac2f7,{'responseType':_0x1eb2fe(0x1f8)});return new Promise((_0xe6aa87,_0x5c3111)=>{const _0x54fa1a=_0x1eb2fe;streamToBuffer(_0x2fbf98[_0x54fa1a(0x22f)],(_0x26ef9e,_0x357e58)=>{const _0x28a01e=_0x54fa1a;if(_0x26ef9e)throw new common_1[(_0x28a01e(0x1dd))](_0x28a01e(0x209),common_1[_0x28a01e(0x1e9)][_0x28a01e(0x226)]);else _0xe6aa87(_0x357e58);});});}};UploadService=__decorate([(0x0,common_1[_0x2e15d2(0x218)])(),__metadata(_0x2e15d2(0x1dc),[globalConfig_service_1['GlobalConfigService']])],UploadService),exports[_0x2e15d2(0x1c8)]=UploadService;