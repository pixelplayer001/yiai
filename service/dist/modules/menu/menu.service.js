'use strict';function _0x3ae9(_0x5e038d,_0x4b984b){const _0x4f5c92=_0x4f5c();return _0x3ae9=function(_0x3ae995,_0x31f273){_0x3ae995=_0x3ae995-0x183;let _0x4b2ae9=_0x4f5c92[_0x3ae995];return _0x4b2ae9;},_0x3ae9(_0x5e038d,_0x4b984b);}const _0x320c7e=_0x3ae9;(function(_0x36de4a,_0x1addc2){const _0x3dde9f=_0x3ae9,_0x1f2881=_0x36de4a();while(!![]){try{const _0x3fd561=-parseInt(_0x3dde9f(0x1cf))/0x1*(-parseInt(_0x3dde9f(0x1cc))/0x2)+-parseInt(_0x3dde9f(0x1b7))/0x3*(-parseInt(_0x3dde9f(0x1bb))/0x4)+parseInt(_0x3dde9f(0x19b))/0x5*(parseInt(_0x3dde9f(0x19c))/0x6)+-parseInt(_0x3dde9f(0x1ca))/0x7+-parseInt(_0x3dde9f(0x1c4))/0x8+-parseInt(_0x3dde9f(0x1a7))/0x9*(-parseInt(_0x3dde9f(0x183))/0xa)+-parseInt(_0x3dde9f(0x1ad))/0xb;if(_0x3fd561===_0x1addc2)break;else _0x1f2881['push'](_0x1f2881['shift']());}catch(_0x3482e5){_0x1f2881['push'](_0x1f2881['shift']());}}}(_0x4f5c,0xb6baf));function _0x4f5c(){const _0xb1c9ff=['/midjourney','isSystem','icon-park-outline:mindmap-map','应用广场','metadata','initMenu','MenuService','27QSLzpb','ri:landscape-line','/chat','HttpStatus','Draw','@nestjs/common','11171952qSqdaE','ant-design:appstore-outlined','save','思维导图','Injectable','缺失必要参数!','affected','Market','__decorate','/app-store','445989MnOGkn','AppStore','icon-park-outline:shopping','visibleMenu','32heDTYm','InjectRepository','eos-icons:typing','/mind','/pay','menuPath','Pay','/share','update','4368136YFrMmV','object','menuEntity','delMenu','./menu.entity','length','1025262kTjysn','design:paramtypes','5626NaYQha','/user-center','对话聊天','59VSbfUB','专业绘画','count','1836530bKbNwp','Midjourney','decorate','BAD_REQUEST','__param','Share','@nestjs/typeorm','findOne','会员中心','HttpException','/market','find','推广计划','delete','Repository','solar:album-line-duotone','defineProperty','menuListFront','uiw:share','menuPlatform','Mind','__esModule','/draw','Chat','2751740GfdeKr','6GvTVHe','绘画广场','ASC','menuIframeUrl'];_0x4f5c=function(){return _0xb1c9ff;};return _0x4f5c();}var __decorate=this&&this[_0x320c7e(0x1b5)]||function(_0x27763c,_0x23661c,_0x3608a8,_0x59f651){const _0x569e80=_0x320c7e;var _0x13aa4d=arguments[_0x569e80(0x1c9)],_0x4d32b7=_0x13aa4d<0x3?_0x23661c:_0x59f651===null?_0x59f651=Object['getOwnPropertyDescriptor'](_0x23661c,_0x3608a8):_0x59f651,_0xf717df;if(typeof Reflect===_0x569e80(0x1c5)&&typeof Reflect['decorate']==='function')_0x4d32b7=Reflect[_0x569e80(0x185)](_0x27763c,_0x23661c,_0x3608a8,_0x59f651);else{for(var _0x5f4aad=_0x27763c['length']-0x1;_0x5f4aad>=0x0;_0x5f4aad--)if(_0xf717df=_0x27763c[_0x5f4aad])_0x4d32b7=(_0x13aa4d<0x3?_0xf717df(_0x4d32b7):_0x13aa4d>0x3?_0xf717df(_0x23661c,_0x3608a8,_0x4d32b7):_0xf717df(_0x23661c,_0x3608a8))||_0x4d32b7;}return _0x13aa4d>0x3&&_0x4d32b7&&Object[_0x569e80(0x193)](_0x23661c,_0x3608a8,_0x4d32b7),_0x4d32b7;},__metadata=this&&this['__metadata']||function(_0x6d06a1,_0x1f25fb){const _0x346739=_0x320c7e;if(typeof Reflect===_0x346739(0x1c5)&&typeof Reflect[_0x346739(0x1a4)]==='function')return Reflect[_0x346739(0x1a4)](_0x6d06a1,_0x1f25fb);},__param=this&&this[_0x320c7e(0x187)]||function(_0x201ccd,_0x3f40c9){return function(_0x44456e,_0x479f48){_0x3f40c9(_0x44456e,_0x479f48,_0x201ccd);};};Object['defineProperty'](exports,_0x320c7e(0x198),{'value':!![]}),exports[_0x320c7e(0x1a6)]=void 0x0;const common_1=require(_0x320c7e(0x1ac)),typeorm_1=require(_0x320c7e(0x189)),typeorm_2=require('typeorm'),menu_entity_1=require(_0x320c7e(0x1c8));let MenuService=class MenuService{constructor(_0x5c5400){const _0x510410=_0x320c7e;this[_0x510410(0x1c6)]=_0x5c5400;}async['onModuleInit'](){const _0x45ac90=_0x320c7e;await this[_0x45ac90(0x1a5)]();}async[_0x320c7e(0x1a5)](){const _0x307f09=_0x320c7e,_0x24b952=await this['menuEntity'][_0x307f09(0x1d1)]();if(_0x24b952>0x0)return;const _0x1976a2=[{'menuTipText':_0x307f09(0x1ce),'menuIcon':_0x307f09(0x1bd),'menuName':'Chat','menuPath':_0x307f09(0x1a9),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x307f09(0x1a3),'menuIcon':_0x307f09(0x1ae),'menuName':_0x307f09(0x1b8),'menuPath':'/app-store','menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x307f09(0x1d0),'menuIcon':_0x307f09(0x1a8),'menuName':'Midjourney','menuPath':_0x307f09(0x1a0),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x307f09(0x19d),'menuIcon':_0x307f09(0x192),'menuName':_0x307f09(0x1b4),'menuPath':_0x307f09(0x18d),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':'基础绘画','menuIcon':'fluent:draw-image-24-regular','menuName':_0x307f09(0x1ab),'menuPath':_0x307f09(0x199),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':'思维导图','menuIcon':_0x307f09(0x1a2),'menuName':_0x307f09(0x197),'menuPath':_0x307f09(0x1be),'menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x307f09(0x18b),'menuIcon':_0x307f09(0x1b9),'menuName':_0x307f09(0x1c1),'menuPath':_0x307f09(0x1bf),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0x307f09(0x18f),'menuIcon':_0x307f09(0x195),'menuName':_0x307f09(0x188),'menuPath':_0x307f09(0x1c2),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x37459c=[{'menuTipText':_0x307f09(0x1ce),'menuIcon':_0x307f09(0x1bd),'menuName':_0x307f09(0x19a),'menuPath':_0x307f09(0x1a9),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':_0x307f09(0x1a3),'menuIcon':_0x307f09(0x1ae),'menuName':_0x307f09(0x1b8),'menuPath':_0x307f09(0x1b6),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':_0x307f09(0x1d0),'menuIcon':_0x307f09(0x1a8),'menuName':_0x307f09(0x184),'menuPath':_0x307f09(0x1a0),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x307f09(0x1b0),'menuIcon':_0x307f09(0x1a2),'menuName':_0x307f09(0x197),'menuPath':_0x307f09(0x1be),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':'个人中心','menuIcon':'ri:account-pin-box-line','menuName':'UserCenter','menuPath':_0x307f09(0x1cd),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x4da8c4=[..._0x1976a2,..._0x37459c];await this[_0x307f09(0x1c6)][_0x307f09(0x1af)](_0x4da8c4);}async['queryMenu'](_0x22c51d){const _0x2c1280=_0x320c7e,{menuPlatform:_0x485e42}=_0x22c51d,_0x15928a={};return _0x485e42&&(_0x15928a[_0x2c1280(0x196)]=_0x485e42),await this[_0x2c1280(0x1c6)][_0x2c1280(0x18e)]({'where':_0x15928a,'order':{'order':_0x2c1280(0x19e)}});}async[_0x320c7e(0x194)](_0x2d2870){const _0x330721=_0x320c7e,{menuPlatform:_0x2225db}=_0x2d2870,_0x152893={'isShow':!![]};return _0x2225db&&(_0x152893[_0x330721(0x196)]=_0x2225db),await this[_0x330721(0x1c6)]['find']({'where':_0x152893,'order':{'order':_0x330721(0x19e)}});}async[_0x320c7e(0x1ba)](_0x52d7b5){const _0xaf98f2=_0x320c7e,{id:_0x1d787f}=_0x52d7b5;if(!_0x1d787f)return;const _0x3866f2=await this[_0xaf98f2(0x1c6)][_0xaf98f2(0x18a)]({'where':{'id':_0x1d787f}});if(!_0x3866f2)return;const {isShow:_0x40ba92}=_0x3866f2,_0x159065=await this[_0xaf98f2(0x1c6)]['update']({'id':_0x1d787f},{'isShow':!_0x40ba92});return _0x159065['affected']>0x0;}async['setMenu'](_0x70a45f){const _0x5a400e=_0x320c7e,{id:_0x588e96}=_0x70a45f;_0x70a45f[_0x5a400e(0x1a1)]?_0x70a45f[_0x5a400e(0x1c0)]='':_0x70a45f[_0x5a400e(0x19f)]='';delete _0x70a45f[_0x5a400e(0x1a1)];try{if(_0x588e96){const _0x1b5a24=await this[_0x5a400e(0x1c6)][_0x5a400e(0x1c3)]({'id':_0x588e96},_0x70a45f);return _0x1b5a24[_0x5a400e(0x1b3)]>0x0;}else{const _0xd9352c=await this[_0x5a400e(0x1c6)][_0x5a400e(0x1af)](_0x70a45f);return _0xd9352c;}}catch(_0x58377c){throw new common_1[(_0x5a400e(0x18c))]('操作菜单失败!',common_1[_0x5a400e(0x1aa)]['BAD_REQUEST']);}}async[_0x320c7e(0x1c7)](_0x537db0){const _0x38d8f5=_0x320c7e,{id:_0x292692}=_0x537db0;if(!_0x292692)throw new common_1[(_0x38d8f5(0x18c))](_0x38d8f5(0x1b2),common_1['HttpStatus'][_0x38d8f5(0x186)]);const _0x285bdf=await this[_0x38d8f5(0x1c6)][_0x38d8f5(0x190)]({'id':_0x292692});return _0x285bdf;}async['updateIcon'](_0x543636){const _0x50dd9c=_0x320c7e,{id:_0x564c5c,menuIcon:_0x4d065a,menuTipText:_0xccef7f,order:_0x12f758}=_0x543636;if(!_0x564c5c||!_0x4d065a||!_0xccef7f||!_0x12f758)throw new common_1[(_0x50dd9c(0x18c))](_0x50dd9c(0x1b2),common_1[_0x50dd9c(0x1aa)][_0x50dd9c(0x186)]);const _0x4b6bf0=await this[_0x50dd9c(0x1c6)]['update']({'id':_0x564c5c},{'menuIcon':_0x4d065a,'menuTipText':_0xccef7f,'order':_0x12f758});return _0x4b6bf0['affected']>0x0;}};MenuService=__decorate([(0x0,common_1[_0x320c7e(0x1b1)])(),__param(0x0,(0x0,typeorm_1[_0x320c7e(0x1bc)])(menu_entity_1['MenuEntity'])),__metadata(_0x320c7e(0x1cb),[typeorm_2[_0x320c7e(0x191)]])],MenuService),exports['MenuService']=MenuService;