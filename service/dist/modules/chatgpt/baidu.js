'use strict';const _0x45b763=_0x1ee1;function _0x2c42(){const _0x43ef55=['__esModule','2572XXBEHN','eb-instant','then','chatglm2_6b_32k','trim','700800EXWPhh','llama_2_13b','data','post','218qgNlwH','completions_pro','99eLlnhj','application/json','access_token','axios','POST','llama_2_7b','30xHIVBX','sendMessageFromBaidu','getAccessToken','199080vUBtVU','98qUvipz','replace','toLowerCase','stream','875817VYDLwh','map','268215ismsiY','text','130136hpidWS','parse','keys','catch','end','data:\x20','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','129540yoQCNz'];_0x2c42=function(){return _0x43ef55;};return _0x2c42();}(function(_0x2b1395,_0xee276a){const _0x5b6dd2=_0x1ee1,_0x3069f6=_0x2b1395();while(!![]){try{const _0x4c9db9=-parseInt(_0x5b6dd2(0x17f))/0x1*(-parseInt(_0x5b6dd2(0x162))/0x2)+parseInt(_0x5b6dd2(0x16d))/0x3+-parseInt(_0x5b6dd2(0x15e))/0x4+parseInt(_0x5b6dd2(0x174))/0x5*(-parseInt(_0x5b6dd2(0x16a))/0x6)+-parseInt(_0x5b6dd2(0x16e))/0x7*(-parseInt(_0x5b6dd2(0x176))/0x8)+-parseInt(_0x5b6dd2(0x172))/0x9+-parseInt(_0x5b6dd2(0x17d))/0xa*(-parseInt(_0x5b6dd2(0x164))/0xb);if(_0x4c9db9===_0xee276a)break;else _0x3069f6['push'](_0x3069f6['shift']());}catch(_0x526015){_0x3069f6['push'](_0x3069f6['shift']());}}}(_0x2c42,0x24b20));Object['defineProperty'](exports,_0x45b763(0x17e),{'value':!![]}),exports['sendMessageFromBaidu']=exports[_0x45b763(0x16c)]=void 0x0;function _0x1ee1(_0x5ef3d7,_0x236f1d){const _0x2c425d=_0x2c42();return _0x1ee1=function(_0x1ee1cc,_0x59811f){_0x1ee1cc=_0x1ee1cc-0x15d;let _0x4fe8a7=_0x2c425d[_0x1ee1cc];return _0x4fe8a7;},_0x1ee1(_0x5ef3d7,_0x236f1d);}const axios=require(_0x45b763(0x167)),getApiModelMaps=()=>{const _0x532305=_0x45b763;let _0x23e999={};const _0x312486={'ERNIE-Bot':'completions','ERNIE-Bot-turbo':_0x532305(0x180),'BLOOMZ-7B':'bloomz_7b1','ERNIE-Bot-4':_0x532305(0x163),'Llama-2-7b-chat':_0x532305(0x169),'Llama-2-13b-chat':_0x532305(0x15f),'ChatGLM2-6B-32K':_0x532305(0x182),'Qianfan-Chinese-Llama-2-7B':'qianfan_chinese_llama_2_7b'};return Object[_0x532305(0x178)](_0x312486)[_0x532305(0x173)](_0x38ea7f=>{_0x23e999[''+_0x38ea7f['toLowerCase']()]=_0x312486[_0x38ea7f];}),_0x23e999;};function getAccessToken(_0x3eaf79,_0x410be8){const _0x44b0db=_0x45b763;let _0x45c463=_0x44b0db(0x17c)+_0x3eaf79+'&client_secret='+_0x410be8;return new Promise((_0x4841e8,_0x575480)=>{const _0x2c60fc=_0x44b0db;axios[_0x2c60fc(0x161)](_0x45c463)['then'](_0x4977f3=>{const _0x56d6ec=_0x2c60fc;_0x4841e8(_0x4977f3[_0x56d6ec(0x160)][_0x56d6ec(0x166)]);})['catch'](_0x37382f=>{_0x575480(_0x37382f);});});}exports['getAccessToken']=getAccessToken;function sendMessageFromBaidu(_0x4b40bd,{onProgress:_0x3f353c,accessToken:_0x4dd624,model:_0x877590,temperature:temperature=0.95}){const _0x2d249d=_0x45b763,_0x5c5f88=getApiModelMaps()[_0x877590[_0x2d249d(0x15d)]()[_0x2d249d(0x170)]()];return new Promise((_0x262586,_0x2f844b)=>{const _0x244e24=_0x2d249d,_0x1aa2a2='https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/'+_0x5c5f88+'?access_token='+_0x4dd624;var _0x2a8371={'method':_0x244e24(0x168),'url':_0x1aa2a2,'responseType':_0x244e24(0x171),'headers':{'Content-Type':_0x244e24(0x165)},'data':{'stream':!![],'messages':_0x4b40bd}};axios(_0x2a8371)[_0x244e24(0x181)](_0x1ddc42=>{const _0x3372e6=_0x244e24,_0x4e5d88=_0x1ddc42[_0x3372e6(0x160)];let _0x3822d0={},_0x3c8a96='',_0x4dc342='';_0x4e5d88['on']('data',_0x3b0acf=>{const _0xc8c48=_0x3372e6,_0x15762f=_0x3b0acf['toString']()['split']('\x0a\x0a')['filter'](_0x320f2d=>_0x320f2d[_0xc8c48(0x15d)]()!=='');for(const _0x4b290b of _0x15762f){const _0x1aca02=_0x4b290b[_0xc8c48(0x16f)](_0xc8c48(0x17b),'');try{const _0x4704bf=_0x3c8a96+_0x1aca02,_0x246e2d=JSON[_0xc8c48(0x177)](_0x4704bf);_0x3c8a96='';const {is_end:_0x503f58,result:_0x3d52be}=_0x246e2d;_0x3d52be&&(_0x4dc342+=_0x3d52be),_0x503f58&&(_0x3822d0=_0x246e2d,_0x3822d0[_0xc8c48(0x175)]=_0x4dc342),_0x3f353c(_0x246e2d);}catch(_0x25afe0){_0x3c8a96=_0x1aca02;}}}),_0x4e5d88['on'](_0x3372e6(0x17a),()=>{_0x4dc342='',_0x3c8a96='',_0x262586(_0x3822d0);});})[_0x244e24(0x179)](_0x34ce60=>{_0x2f844b(new Error(_0x34ce60));});});}exports[_0x45b763(0x16b)]=sendMessageFromBaidu;