
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as j}from"./index-ffb2bbfd.js";import{a as p}from"./config-e982e661.js";import{d as H,O as N,r as _,q as E,h as a,o as g,c as h,e as t,f as l,a as b,k as P,Q as G,R as S,E as L,t as U,n as y}from"./index-6b0fe787.js";const B={class:"flex justify-between"},R=H({__name:"logo",setup(D){const x=[{label:"ChatGpt聊天",path:"/chat"},{label:"Dall-E绘画",path:"/draw"},{label:"Midjourney绘画",path:"/midjourney"},{label:"mj公共预览页",path:"/market"},{label:"mind思维导图",path:"/mind"},{label:"应用广场",path:"/app-store"},{label:"不指定首页",path:""}],n=N({clientMenuList:[],clientHomePath:"",clientLogoPath:"",clientFavoIconPath:""}),v=_({clientHomePath:[{required:!1,trigger:"change",message:"请选择项目默认主页地址"}],clientMenuList:[{required:!1,trigger:"change",message:"请选择客户端开放的菜单"}],clientLogoPath:[{required:!1,trigger:"blur",message:"请填写您的网站LOGO图片链接"}],clientFavoIconPath:[{required:!1,trigger:"blur",message:"请填写您的网站favorit.ico网站logo地址"}]}),u=_();async function d(){const o=await p.queryConfig({keys:["clientHomePath","clientMenuList","clientLogoPath","clientFavoIconPath"]}),e=o.data;e.clientMenuList=e.clientMenuList?JSON.parse(e.clientMenuList):[],Object.assign(n,o.data)}function V(){var o;(o=u.value)==null||o.validate(async e=>{if(e){try{await p.setConfig({settings:O(n)}),L.success("变更配置信息成功")}catch{}d()}else L.error("请填写完整信息")})}function M(o,e){if(["clientMenuList"].includes(o)){if(!e)return[];if(e)return JSON.stringify(e)}else return e}function O(o){return Object.keys(o).map(e=>({configKey:e,configVal:M(e,o[e])}))}return E(()=>{d()}),(o,e)=>{const m=a("el-alert"),C=j,w=a("el-button"),k=a("el-radio"),q=a("el-radio-group"),s=a("el-form-item"),i=a("el-col"),c=a("el-row"),f=a("el-input"),F=a("el-form"),I=a("el-card");return g(),h("div",null,[t(C,null,{default:l(()=>[t(m,{closable:!1,"show-icon":"",title:"动态菜单配置说明",description:"动态菜单继承到下方、用户端logo配置在客户端左上角、ico为网站图标请使用svg格式、可以在线转格式！",type:"success"})]),_:1}),t(I,{style:{margin:"20px"}},{header:l(()=>[b("div",B,[e[4]||(e[4]=b("b",null,"客户端动态菜单设置参数设置",-1)),t(w,{class:"button",text:"",onClick:V},{default:l(()=>e[3]||(e[3]=[P(" 保存设置 ")])),_:1})])]),default:l(()=>[t(F,{ref_key:"formRef",ref:u,rules:v.value,model:n,"label-width":"130px"},{default:l(()=>[t(c,null,{default:l(()=>[t(i,{xs:24,md:24,lg:24,xl:24},{default:l(()=>[t(s,{label:"设置指定首页",prop:"clientHomePath"},{default:l(()=>[t(q,{modelValue:n.clientHomePath,"onUpdate:modelValue":e[0]||(e[0]=r=>n.clientHomePath=r)},{default:l(()=>[(g(),h(G,null,S(x,r=>t(k,{key:r.path,size:"small",border:"",label:r.path},{default:l(()=>[P(U(r.label),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(c,null,{default:l(()=>[t(i,{xs:24,md:24,lg:24,xl:24},{default:l(()=>[t(s,{label:"用户端LOGO",prop:"clientLogoPath"},{default:l(()=>[t(f,{modelValue:n.clientLogoPath,"onUpdate:modelValue":e[1]||(e[1]=r=>n.clientLogoPath=r),placeholder:"请填写您要设置的网站LOGO图片链接",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(c,null,{default:l(()=>[t(i,{xs:24,md:24,lg:24,xl:24},{default:l(()=>[t(s,{label:"用户端ico",prop:"clientFavoIconPath"},{default:l(()=>[t(f,{modelValue:n.clientFavoIconPath,"onUpdate:modelValue":e[2]||(e[2]=r=>n.clientFavoIconPath=r),placeholder:"请填写您要设置的网站ico地址、格式为svg",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof y=="function"&&y(R);export{R as default};
