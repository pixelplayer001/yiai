
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as $,g as G,s as q,z as H,r as I,q as Q,C as J,A as K,h as N,o as w,c as R,a as W,b,D as B,e as T,f as C,H as L,G as F,Q as X,R as Y,aa as Z,_ as j,k,t as ee,m as te}from"./index-6b0fe787.js";import{T as ne}from"./index-1a58de0e.js";import"./index-05f8e5a3.js";function re(n){for(var a=[],e=0;e<n.length;){var l=n[e];if(l==="*"||l==="+"||l==="?"){a.push({type:"MODIFIER",index:e,value:n[e++]});continue}if(l==="\\"){a.push({type:"ESCAPED_CHAR",index:e++,value:n[e++]});continue}if(l==="{"){a.push({type:"OPEN",index:e,value:n[e++]});continue}if(l==="}"){a.push({type:"CLOSE",index:e,value:n[e++]});continue}if(l===":"){for(var m="",r=e+1;r<n.length;){var s=n.charCodeAt(r);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||s===95){m+=n[r++];continue}break}if(!m)throw new TypeError("Missing parameter name at ".concat(e));a.push({type:"NAME",index:e,value:m}),e=r;continue}if(l==="("){var c=1,u="",r=e+1;if(n[r]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(r));for(;r<n.length;){if(n[r]==="\\"){u+=n[r++]+n[r++];continue}if(n[r]===")"){if(c--,c===0){r++;break}}else if(n[r]==="("&&(c++,n[r+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(r));u+=n[r++]}if(c)throw new TypeError("Unbalanced pattern at ".concat(e));if(!u)throw new TypeError("Missing pattern at ".concat(e));a.push({type:"PATTERN",index:e,value:u}),e=r;continue}a.push({type:"CHAR",index:e,value:n[e++]})}return a.push({type:"END",index:e,value:""}),a}function ae(n,a){a===void 0&&(a={});for(var e=re(n),l=a.prefixes,m=l===void 0?"./":l,r=a.delimiter,s=r===void 0?"/#?":r,c=[],u=0,i=0,o="",t=function(h){if(i<e.length&&e[i].type===h)return e[i++].value},p=function(h){var f=t(h);if(f!==void 0)return f;var g=e[i],S=g.type,z=g.index;throw new TypeError("Unexpected ".concat(S," at ").concat(z,", expected ").concat(h))},_=function(){for(var h="",f;f=t("CHAR")||t("ESCAPED_CHAR");)h+=f;return h},E=function(h){for(var f=0,g=s;f<g.length;f++){var S=g[f];if(h.indexOf(S)>-1)return!0}return!1},v=function(h){var f=c[c.length-1],g=h||(f&&typeof f=="string"?f:"");if(f&&!g)throw new TypeError('Must have text between two parameters, missing text after "'.concat(f.name,'"'));return!g||E(g)?"[^".concat(M(s),"]+?"):"(?:(?!".concat(M(g),")[^").concat(M(s),"])+?")};i<e.length;){var d=t("CHAR"),x=t("NAME"),P=t("PATTERN");if(x||P){var y=d||"";m.indexOf(y)===-1&&(o+=y,y=""),o&&(c.push(o),o=""),c.push({name:x||u++,prefix:y,suffix:"",pattern:P||v(y),modifier:t("MODIFIER")||""});continue}var O=d||t("ESCAPED_CHAR");if(O){o+=O;continue}o&&(c.push(o),o="");var V=t("OPEN");if(V){var y=_(),D=t("NAME")||"",A=t("PATTERN")||"",U=_();p("CLOSE"),c.push({name:D||(A?u++:""),pattern:D&&!A?v(y):A,prefix:y,suffix:U,modifier:t("MODIFIER")||""});continue}p("END")}return c}function oe(n,a){return ie(ae(n,a),a)}function ie(n,a){a===void 0&&(a={});var e=ce(a),l=a.encode,m=l===void 0?function(u){return u}:l,r=a.validate,s=r===void 0?!0:r,c=n.map(function(u){if(typeof u=="object")return new RegExp("^(?:".concat(u.pattern,")$"),e)});return function(u){for(var i="",o=0;o<n.length;o++){var t=n[o];if(typeof t=="string"){i+=t;continue}var p=u?u[t.name]:void 0,_=t.modifier==="?"||t.modifier==="*",E=t.modifier==="*"||t.modifier==="+";if(Array.isArray(p)){if(!E)throw new TypeError('Expected "'.concat(t.name,'" to not repeat, but got an array'));if(p.length===0){if(_)continue;throw new TypeError('Expected "'.concat(t.name,'" to not be empty'))}for(var v=0;v<p.length;v++){var d=m(p[v],t);if(s&&!c[o].test(d))throw new TypeError('Expected all "'.concat(t.name,'" to match "').concat(t.pattern,'", but got "').concat(d,'"'));i+=t.prefix+d+t.suffix}continue}if(typeof p=="string"||typeof p=="number"){var d=m(String(p),t);if(s&&!c[o].test(d))throw new TypeError('Expected "'.concat(t.name,'" to match "').concat(t.pattern,'", but got "').concat(d,'"'));i+=t.prefix+d+t.suffix;continue}if(!_){var x=E?"an array":"a string";throw new TypeError('Expected "'.concat(t.name,'" to be ').concat(x))}}return i}}function M(n){return n.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function ce(n){return n&&n.sensitive?"":"i"}const se={class:"left-box"},ue=$({name:"Topbar"}),le=$({...ue,setup(n){const a=G(),e=q(),l=H(()=>e.mode==="mobile"||["side","head","single"].includes(e.settings.menu.menuMode)&&e.settings.menu.enableSubMenuCollapseButton),m=H(()=>{const i=[];return e.settings.home.enable&&i.push({path:"/",title:e.settings.home.title}),a.meta.breadcrumbNeste&&i.push(...a.meta.breadcrumbNeste.filter(o=>o.hide===!1)),i}),r=I(0),s=I(!1);Q(()=>{window.addEventListener("scroll",c)}),J(()=>{window.removeEventListener("scroll",c)});function c(){r.value=(document.documentElement||document.body).scrollTop}K(r,(i,o)=>{const t=parseInt(getComputedStyle(document.documentElement||document.body).getPropertyValue("--g-topbar-height"));s.value=e.settings.topbar.mode==="sticky"&&i>o&&i>t});function u(i){return oe(i)(a.params)}return(i,o)=>{const t=j,p=N("el-icon"),_=N("el-breadcrumb-item"),E=N("el-breadcrumb");return w(),R("div",{class:B(["topbar-container",{[`topbar-${b(e).settings.topbar.mode}`]:!0,shadow:b(r),hide:b(s)}]),"data-fixed-calc-width":""},[W("div",se,[b(l)?(w(),R("div",{key:0,class:B(["sidebar-collapse",{"is-collapse":b(e).settings.menu.subMenuCollapse}]),onClick:o[0]||(o[0]=v=>b(e).toggleSidebarCollapse())},[T(p,null,{default:C(()=>[T(t,{name:"toolbar-collapse"})]),_:1})],2)):L("",!0),b(e).settings.breadcrumb.enable&&b(e).mode==="pc"&&b(e).settings.app.routeBaseOn!=="filesystem"?(w(),F(E,{key:1},{default:C(()=>[T(Z,{name:"breadcrumb"},{default:C(()=>[(w(!0),R(X,null,Y(b(m),(v,d)=>(w(),F(_,{key:v.path,to:d<b(m).length-1?u(v.path):""},{default:C(()=>[k(ee(v.title??"[ 无标题 ]"),1)]),_:2},1032,["to"]))),128))]),_:1})]),_:1})):L("",!0)]),T(ne)],2)}}});const me=te(le,[["__scopeId","data-v-0a83a8dd"]]);export{me as default};
