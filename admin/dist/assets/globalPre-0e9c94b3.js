
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as V}from"./index-ffb2bbfd.js";import{a as m}from"./config-e982e661.js";import{d as h,O as q,r as i,q as j,h as s,o as B,c as E,e as t,f as n,a as u,k as N,E as _,n as f}from"./index-6b0fe787.js";const O={class:"flex justify-between"},A=h({__name:"globalPre",setup(R){const l=q({systemPreMessage:""}),p=i({systemPreMessage:[{required:!0,trigger:"blur",message:"请填写全局预设信息、用于模型预设词"}]}),a=i();async function r(){const o=await m.queryConfig({keys:["systemPreMessage"]});Object.assign(l,o.data)}function d(){var o;(o=a.value)==null||o.validate(async e=>{if(e){try{await m.setConfig({settings:g(l)}),_.success("变更配置信息成功")}catch{}r()}else _.error("请填写完整信息")})}function g(o){return Object.keys(o).map(e=>({configKey:e,configVal:o[e]}))}return j(()=>{r()}),(o,e)=>{const c=s("el-alert"),y=V,b=s("el-button"),x=s("el-input"),w=s("el-form-item"),P=s("el-col"),C=s("el-row"),M=s("el-form"),k=s("el-card");return B(),E("div",null,[t(y,null,{default:n(()=>[t(c,{closable:!1,"show-icon":"",title:"模型全局头部预设说明",description:"当前消息将会被追加到对话模型的全局预设当中、对应用APP无效、对其他所有绘画生效！",type:"success"})]),_:1}),t(k,{style:{margin:"20px"}},{header:n(()=>[u("div",O,[e[2]||(e[2]=u("b",null,"模型系统消息预设",-1)),t(b,{class:"button",text:"",onClick:d},{default:n(()=>e[1]||(e[1]=[N(" 保存设置 ")])),_:1})])]),default:n(()=>[t(M,{ref_key:"formRef",ref:a,rules:p.value,model:l,"label-width":"140px"},{default:n(()=>[t(C,null,{default:n(()=>[t(P,{xs:24,md:20,lg:15,xl:12},{default:n(()=>[t(w,{label:"模型全局头部预设",prop:"systemPreMessage"},{default:n(()=>[t(x,{modelValue:l.systemPreMessage,"onUpdate:modelValue":e[0]||(e[0]=v=>l.systemPreMessage=v),type:"textarea",rows:5,placeholder:"请填写模型全局头部预设信息！",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof f=="function"&&f(A);export{A as default};
