
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as k}from"./index-ffb2bbfd.js";import{a as p}from"./config-e982e661.js";import{d as q,O as J,r as _,q as U,h as n,o as j,c as B,e,f as o,a as v,k as E,E as g,n as b}from"./index-6b0fe787.js";const O={class:"flex justify-between"},h=q({__name:"visitor",setup(R){const t=J({visitorModel3Num:null,visitorModel4Num:null,visitorMJNum:null}),N=_({visitorModel3Num:[{required:!0,trigger:"blur",message:"请填写每日限制的基础模型积分"}],visitorModel4Num:[{required:!0,trigger:"blur",message:"请填写每日限制的高级模型积分"}],visitorMJNum:[{required:!0,trigger:"blur",message:"请填写每日限制的绘画额度积分"}]}),d=_();async function c(){const r=await p.queryConfig({keys:["visitorModel4Num","visitorModel3Num","visitorMJNum"]});Object.assign(t,r.data)}function M(){var r;(r=d.value)==null||r.validate(async l=>{if(l){try{await p.setConfig({settings:y(t)}),g.success("变更配置信息成功")}catch{}c()}else g.error("请填写完整信息")})}function y(r){return Object.keys(r).map(l=>({configKey:l,configVal:r[l]}))}return U(()=>{c()}),(r,l)=>{const f=n("el-alert"),x=k,V=n("el-button"),a=n("el-input"),u=n("el-form-item"),i=n("el-col"),m=n("el-row"),w=n("el-form"),C=n("el-card");return j(),B("div",null,[e(x,null,{default:o(()=>[e(f,{closable:!1,"show-icon":"",title:"访客模式设置",description:"设置为每日访客限制的访问积分额度、每日凌晨0点刷新新的额度！",type:"success"})]),_:1}),e(C,{style:{margin:"20px"}},{header:o(()=>[v("div",O,[l[4]||(l[4]=v("b",null,"访客模式设置",-1)),e(V,{class:"button",text:"",onClick:M},{default:o(()=>l[3]||(l[3]=[E(" 保存设置 ")])),_:1})])]),default:o(()=>[e(w,{ref_key:"formRef",ref:d,rules:N.value,model:t,"label-width":"130px"},{default:o(()=>[e(m,null,{default:o(()=>[e(i,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(u,{label:"基础模型额度",prop:"visitorModel3Num"},{default:o(()=>[e(a,{modelValue:t.visitorModel3Num,"onUpdate:modelValue":l[0]||(l[0]=s=>t.visitorModel3Num=s),type:"number",placeholder:"请填写每日限制基础模型积分",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(m,null,{default:o(()=>[e(i,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(u,{label:"高级模型额度",prop:"visitorModel4Num"},{default:o(()=>[e(a,{modelValue:t.visitorModel4Num,"onUpdate:modelValue":l[1]||(l[1]=s=>t.visitorModel4Num=s),type:"number",placeholder:"请填写每日限制的高级模型积分",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(m,null,{default:o(()=>[e(i,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(u,{label:"绘画积分额度",prop:"visitorMJNum"},{default:o(()=>[e(a,{modelValue:t.visitorMJNum,"onUpdate:modelValue":l[2]||(l[2]=s=>t.visitorMJNum=s),type:"number",placeholder:"请填写每日限制的绘画额度积分",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof b=="function"&&b(h);export{h as default};
