
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as k}from"./index-ffb2bbfd.js";import{a as _}from"./config-e982e661.js";import{d as S,O as P,r as q,z as N,q as j,h as a,o as A,c as B,e,f as o,a as v,k as E,b as h,E as g,n as y}from"./index-6b0fe787.js";const O={class:"flex justify-between"},R=S({__name:"chevereto",setup(M){const l=P({cheveretoStatus:"",cheveretoUploadPath:"",cheveretoKey:""}),d=q();async function p(){const n=await _.queryConfig({keys:["cheveretoKey","cheveretoUploadPath","cheveretoStatus"]});Object.assign(l,n.data)}function b(){var n;(n=d.value)==null||n.validate(async t=>{if(t){try{await _.setConfig({settings:x(l)}),g.success("变更配置信息成功")}catch{}p()}else g.error("请填写完整信息")})}function x(n){return Object.keys(n).map(t=>({configKey:t,configVal:n[t]}))}const i=N(()=>[{required:Number(l.cheveretoStatus)===1,message:"开启配置后请填写此项",trigger:"change"}]);return j(()=>{p()}),(n,t)=>{const m=a("el-alert"),V=k,w=a("el-button"),U=a("el-switch"),s=a("el-form-item"),c=a("el-col"),u=a("el-row"),f=a("el-input"),C=a("el-form"),K=a("el-card");return A(),B("div",null,[e(V,null,{default:o(()=>[e(m,{closable:!1,"show-icon":"",title:"chevereto图床配置说明",description:"chevereto图床官方文档 https://v4-docs.chevereto.com/developer/api/api-v1.html 同时开启多个存储会以菜单排序优先级开启使用",type:"success"})]),_:1}),e(K,{style:{margin:"20px"}},{header:o(()=>[v("div",O,[t[4]||(t[4]=v("b",null,"chevereto图床参数设置",-1)),e(w,{class:"button",text:"",onClick:b},{default:o(()=>t[3]||(t[3]=[E(" 保存设置 ")])),_:1})])]),default:o(()=>[e(C,{ref_key:"formRef",ref:d,model:l,"label-width":"100px"},{default:o(()=>[e(u,null,{default:o(()=>[e(c,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(s,{label:"服务启用状态",prop:"cheveretoStatus"},{default:o(()=>[e(U,{modelValue:l.cheveretoStatus,"onUpdate:modelValue":t[0]||(t[0]=r=>l.cheveretoStatus=r),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:o(()=>[e(c,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(s,{label:"上传地址",prop:"cheveretoUploadPath",rules:h(i)},{default:o(()=>[e(f,{modelValue:l.cheveretoUploadPath,"onUpdate:modelValue":t[1]||(t[1]=r=>l.cheveretoUploadPath=r),placeholder:"请填写您的图床上传地址",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(u,null,{default:o(()=>[e(c,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(s,{label:"ApiKey",prop:"cheveretoKey",rules:h(i)},{default:o(()=>[e(f,{modelValue:l.cheveretoKey,"onUpdate:modelValue":t[2]||(t[2]=r=>l.cheveretoKey=r),placeholder:"请填写ApiKey",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}});typeof y=="function"&&y(R);export{R as default};
