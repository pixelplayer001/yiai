
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as N}from"./index-ffb2bbfd.js";import{a as x}from"./config-e982e661.js";import{d as B,O as J,r as R,z as C,q as O,h as f,o as z,c as A,e,f as l,a as S,k as I,b as s,E as c,n as w}from"./index-6b0fe787.js";const K={class:"flex justify-between"},T=B({__name:"register",setup(F){const n=J({isVerifyEmail:"",emailRegisterStatus:"",registerSendStatus:"",registerSendModel3Count:"",registerSendModel4Count:"",registerSendDrawMjCount:"",firstRegisterSendStatus:0,firstRegisterSendRank:"",firstRregisterSendModel3Count:"",firstRregisterSendModel4Count:"",firstRregisterSendDrawMjCount:"",inviteSendStatus:1,inviteGiveSendModel3Count:"",inviteGiveSendModel4Count:"",inviteGiveSendDrawMjCount:"",invitedGuestSendModel3Count:"",invitedGuestSendModel4Count:"",invitedGuestSendDrawMjCount:""}),G=R({isVerifyEmail:[{required:!0,trigger:"change",message:"请确认是否开启邮箱验证"}],registerSendStatus:[{required:!0,trigger:"change",message:"请确认是否开启注册赠送"}],firstRegisterSendStatus:[{required:!0,trigger:"change",message:"请确认是否开启优先注册赠送"}],inviteSendStatus:[{required:!0,trigger:"change",message:"请确认是否开启邀请注册赠送"}]}),M=R();async function V(){const u=await x.queryConfig({keys:["isVerifyEmail","registerSendStatus","registerSendModel3Count","registerSendModel4Count","registerSendDrawMjCount","firstRegisterSendStatus","firstRegisterSendRank","firstRregisterSendModel3Count","firstRregisterSendModel4Count","firstRregisterSendDrawMjCount","inviteSendStatus","inviteGiveSendModel3Count","inviteGiveSendModel4Count","inviteGiveSendDrawMjCount","invitedGuestSendModel3Count","invitedGuestSendModel4Count","invitedGuestSendDrawMjCount"]});u.data.firstRegisterSendStatus&&(u.data.firstRegisterSendStatus=Number(u.data.firstRegisterSendStatus)),u.data.registerSendStatus&&(u.data.registerSendStatus=Number(u.data.registerSendStatus)),u.data.isVerifyEmail&&(u.data.isVerifyEmail=Number(u.data.isVerifyEmail)),Object.assign(n,u.data)}function j(){var u;(u=M.value)==null||u.validate(async t=>{if(t){try{await x.setConfig({settings:y(n)}),c.success("变更配置信息成功")}catch{}V()}else c.error("请填写完整信息")})}function y(u){return Object.keys(u).map(t=>({configKey:t,configVal:u[t]}))}const g=C(()=>[{required:n.firstRegisterSendStatus,message:"开启优先注册赠送选项后需填写此项",trigger:"change"}]),m=C(()=>[{required:Number(n.inviteSendStatus)===1,message:"开启邀请赠送选项后需填写此项",trigger:"change"}]),v=C(()=>[{required:n.registerSendStatus,message:"开启注册赠送选项后需填写此项",trigger:"change"}]);return O(()=>{V()}),(u,t)=>{const b=f("el-alert"),D=N,U=f("el-button"),p=f("el-switch"),k=f("el-tooltip"),r=f("el-form-item"),a=f("el-col"),o=f("el-row"),_=f("el-divider"),i=f("el-input"),E=f("el-form"),q=f("el-card");return z(),A("div",null,[e(D,null,{default:l(()=>[e(b,{closable:!1,"show-icon":"",title:"注册设置说明",description:"可以设置注册赠送的默认额度、包含对话次数、普通绘画额度、绘画额度、并且可以设置前x名用户获得更多额度、包含设置邀请和被邀请次数等！",type:"success"})]),_:1}),e(q,{style:{margin:"20px"}},{header:l(()=>[S("div",K,[t[18]||(t[18]=S("b",null,"注册设置",-1)),e(U,{class:"button",text:"",onClick:j},{default:l(()=>t[17]||(t[17]=[I(" 保存设置 ")])),_:1})])]),default:l(()=>[e(E,{ref_key:"formRef",ref:M,rules:G.value,model:n,"label-width":"220px"},{default:l(()=>[t[19]||(t[19]=S("h5",null,"邮件校验状态",-1)),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"是否关闭邮箱验证",prop:"isVerifyEmail"},{default:l(()=>[e(k,{class:"box-item",effect:"dark",content:"打开即为关闭邮箱校验、后续注册将直接成功、请谨慎打开此功能！",placement:"right"},{default:l(()=>[e(p,{modelValue:n.isVerifyEmail,"onUpdate:modelValue":t[0]||(t[0]=d=>n.isVerifyEmail=d),"active-value":0,"inactive-value":1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(_),t[20]||(t[20]=S("h5",null,"注册赠送",-1)),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"是否开启注册赠送",prop:"registerSendStatus"},{default:l(()=>[e(p,{modelValue:n.registerSendStatus,"onUpdate:modelValue":t[1]||(t[1]=d=>n.registerSendStatus=d),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"注册赠送基础模型对话额度",prop:"registerSendModel3Count",rules:s(v)},{default:l(()=>[e(i,{modelValue:n.registerSendModel3Count,"onUpdate:modelValue":t[2]||(t[2]=d=>n.registerSendModel3Count=d),placeholder:"首次注册赠基础模型对话额度",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"注册赠送高级模型对话额度",prop:"registerSendModel4Count",rules:s(v)},{default:l(()=>[e(i,{modelValue:n.registerSendModel4Count,"onUpdate:modelValue":t[3]||(t[3]=d=>n.registerSendModel4Count=d),placeholder:"首次注册赠高级模型对话额度",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"注册赠送绘画额度",prop:"registerSendDrawMjCount",rules:s(v)},{default:l(()=>[e(i,{modelValue:n.registerSendDrawMjCount,"onUpdate:modelValue":t[4]||(t[4]=d=>n.registerSendDrawMjCount=d),placeholder:"首次注册赠送MJ额度",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(_),t[21]||(t[21]=S("h5",null,"限定注册赠送",-1)),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"开启优先注册赠送",prop:"firstRegisterSendStatus"},{default:l(()=>[e(p,{modelValue:n.firstRegisterSendStatus,"onUpdate:modelValue":t[5]||(t[5]=d=>n.firstRegisterSendStatus=d),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"前多少名获得奖励",prop:"firstRegisterSendRank",rules:s(g)},{default:l(()=>[e(i,{modelValue:n.firstRegisterSendRank,"onUpdate:modelValue":t[6]||(t[6]=d=>n.firstRegisterSendRank=d),placeholder:"设置优先注册前N名可以获得奖励",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"优先赠基础模型送对话额度",prop:"firstRregisterSendModel3Count",rules:s(g)},{default:l(()=>[e(i,{modelValue:n.firstRregisterSendModel3Count,"onUpdate:modelValue":t[7]||(t[7]=d=>n.firstRregisterSendModel3Count=d),placeholder:"优先注册用户额外赠送基础模型对话额度",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"优先赠高级模型送对话额度",prop:"firstRregisterSendModel4Count",rules:s(g)},{default:l(()=>[e(i,{modelValue:n.firstRregisterSendModel4Count,"onUpdate:modelValue":t[8]||(t[8]=d=>n.firstRregisterSendModel4Count=d),placeholder:"优先注册用户额外赠送高级模型对话额度",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"优先赠送绘画额度",prop:"firstRregisterSendDrawMjCount",rules:s(g)},{default:l(()=>[e(i,{modelValue:n.firstRregisterSendDrawMjCount,"onUpdate:modelValue":t[9]||(t[9]=d=>n.firstRregisterSendDrawMjCount=d),placeholder:"优先注册用户额外赠送MJ额度",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(_),t[22]||(t[22]=S("h5",null,"邀请注册赠送",-1)),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"开启邀请注册赠送",prop:"inviteSendStatus"},{default:l(()=>[e(p,{modelValue:n.inviteSendStatus,"onUpdate:modelValue":t[10]||(t[10]=d=>n.inviteSendStatus=d),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"邀请赠送基础模型对话额度",prop:"inviteGiveSendModel3Count",rules:s(m)},{default:l(()=>[e(i,{modelValue:n.inviteGiveSendModel3Count,"onUpdate:modelValue":t[11]||(t[11]=d=>n.inviteGiveSendModel3Count=d),placeholder:"邀请注册用户赠送基础模型对话额度",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"邀请赠送高级模型对话额度",prop:"inviteGiveSendModel4Count",rules:s(m)},{default:l(()=>[e(i,{modelValue:n.inviteGiveSendModel4Count,"onUpdate:modelValue":t[12]||(t[12]=d=>n.inviteGiveSendModel4Count=d),placeholder:"邀请注册用户赠送高级模型对话额度",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"邀请赠送绘画积分额度",prop:"inviteGiveSendDrawMjCount",rules:s(m)},{default:l(()=>[e(i,{modelValue:n.inviteGiveSendDrawMjCount,"onUpdate:modelValue":t[13]||(t[13]=d=>n.inviteGiveSendDrawMjCount=d),placeholder:"邀请注册用户赠送MJ额度",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"被邀请赠送基础模型对话额度",prop:"invitedGuestSendModel3Count",rules:s(m)},{default:l(()=>[e(i,{modelValue:n.invitedGuestSendModel3Count,"onUpdate:modelValue":t[14]||(t[14]=d=>n.invitedGuestSendModel3Count=d),placeholder:"被邀请注册用户赠送基础模型对话额度",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"被邀请赠送高级模型对话额度",prop:"invitedGuestSendModel4Count",rules:s(m)},{default:l(()=>[e(i,{modelValue:n.invitedGuestSendModel4Count,"onUpdate:modelValue":t[15]||(t[15]=d=>n.invitedGuestSendModel4Count=d),placeholder:"被邀请注册用户赠送高级模型对话额度",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(o,null,{default:l(()=>[e(a,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"被邀请赠送绘画额度",prop:"invitedGuestSendDrawMjCount",rules:s(m)},{default:l(()=>[e(i,{modelValue:n.invitedGuestSendDrawMjCount,"onUpdate:modelValue":t[16]||(t[16]=d=>n.invitedGuestSendDrawMjCount=d),placeholder:"被邀请注册用户赠送额度",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof w=="function"&&w(T);export{T as default};
