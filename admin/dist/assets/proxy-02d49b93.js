
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as B}from"./index-ffb2bbfd.js";import{a as v}from"./config-e982e661.js";import{d as K,O as S,r as y,q as T,h as a,o as L,c as P,e,f as l,a as s,k as W,E as g,n as V}from"./index-6b0fe787.js";const J={class:"flex justify-between"},q=K({__name:"proxy",setup(E){const o=S({mjTimeoutMs:"500000",mjProxyUrl:"",mjKey:"",mjLimitCount:"2",mjNotSaveImg:"0",mjHideNotBlock:"0",mjHideWorkIn:"0"}),k=y({}),j=y();async function x(){const m=await v.queryConfig({keys:["mjTimeoutMs","mjKey","mjProxyUrl","mjLimitCount","mjNotSaveImg","mjHideNotBlock","mjHideWorkIn"]});Object.assign(o,m.data)}function w(){var m;(m=j.value)==null||m.validate(async t=>{if(t){try{await v.setConfig({settings:C(o)}),g.success("变更配置信息成功")}catch{}x()}else g.error("请填写完整信息")})}function C(m){return Object.keys(m).map(t=>({configKey:t,configVal:m[t]}))}return T(()=>{x()}),(m,t)=>{const b=a("el-alert"),N=B,U=a("el-button"),r=a("el-input"),d=a("el-form-item"),u=a("el-col"),i=a("el-row"),I=a("el-divider"),p=a("el-switch"),f=a("QuestionFilled"),_=a("el-icon"),c=a("el-tooltip"),M=a("el-form"),H=a("el-card");return L(),P("div",null,[e(N,null,{default:l(()=>[e(b,{closable:!1,"show-icon":"",title:"MJ参数说明",description:"如果您是海外服务器则不强制开启代理、反之则需要开启代理、代理为系统配套项目、非常规代理、如果您想自己搭建代理请查看教程、如果您想使用系统提供的默认代理、那么选择开启代理并且不填写代理地址即可使用默认地址、如果想获取默认地址请在售后群获取地址！",type:"success"})]),_:1}),e(H,{style:{margin:"20px"}},{header:l(()=>[s("div",J,[t[8]||(t[8]=s("b",null,"MJ参数设置",-1)),e(U,{class:"button",text:"",onClick:w},{default:l(()=>t[7]||(t[7]=[W(" 保存设置 ")])),_:1})])]),default:l(()=>[e(M,{ref_key:"formRef",ref:j,rules:k.value,model:o,"label-width":"150px"},{default:l(()=>[t[12]||(t[12]=s("h4",null,"绘图代理设置",-1)),e(i,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"请填写代理地址",prop:"mjProxyUrl","label-width":"150"},{default:l(()=>[e(r,{modelValue:o.mjProxyUrl,"onUpdate:modelValue":t[0]||(t[0]=n=>o.mjProxyUrl=n),placeholder:"请填写代理地址、详细使用请访问教程！",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"MJ 绘图 Key",prop:"mjKey","label-width":"150"},{default:l(()=>[e(r,{modelValue:o.mjKey,"onUpdate:modelValue":t[1]||(t[1]=n=>o.mjKey=n),placeholder:"请填 MJ 绘图使用的 Key",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"绘画超时时间设置ms",prop:"mjTimeoutMs","label-width":"150"},{default:l(()=>[e(r,{modelValue:o.mjTimeoutMs,"onUpdate:modelValue":t[2]||(t[2]=n=>o.mjTimeoutMs=n),placeholder:"请设置绘画超时时间、单位为ms、根据慢速快速定义（后续优化逻辑）",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"单人绘图并发限制",prop:"mjLimitCount","label-width":"150"},{default:l(()=>[e(r,{modelValue:o.mjLimitCount,"onUpdate:modelValue":t[3]||(t[3]=n=>o.mjLimitCount=n),placeholder:"单人同时绘制限制数量、同一时间最多可以绘制几张！",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(I),t[13]||(t[13]=s("h4",null,"绘图可选设置",-1)),e(i,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"隐藏不需要元素模块",prop:"mjHideNotBlock","label-width":"150"},{default:l(()=>[e(p,{modelValue:o.mjHideNotBlock,"onUpdate:modelValue":t[4]||(t[4]=n=>o.mjHideNotBlock=n),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),e(c,{class:"box-item",effect:"dark",placement:"right"},{content:l(()=>t[9]||(t[9]=[s("div",{style:{width:"250px"}}," 隐藏客户端绘图页面的不需要的元素模块、隐藏后用户不可选择无法选中模块 ",-1)])),default:l(()=>[e(_,{class:"ml-3 cursor-pointer"},{default:l(()=>[e(f)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"隐藏工作中内容模块",prop:"mjHideWorkIn","label-width":"150"},{default:l(()=>[e(p,{modelValue:o.mjHideWorkIn,"onUpdate:modelValue":t[5]||(t[5]=n=>o.mjHideWorkIn=n),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),e(c,{class:"box-item",effect:"dark",placement:"right"},{content:l(()=>t[10]||(t[10]=[s("div",{style:{width:"250px"}}," 客户端绘图页面隐藏掉工作中模块、将不再展示给用户此模块。 ",-1)])),default:l(()=>[e(_,{class:"ml-3 cursor-pointer"},{default:l(()=>[e(f)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(d,{label:"不存储图片",prop:"mjNotSaveImg"},{default:l(()=>[e(p,{modelValue:o.mjNotSaveImg,"onUpdate:modelValue":t[6]||(t[6]=n=>o.mjNotSaveImg=n),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),e(c,{class:"box-item",effect:"dark",placement:"right"},{content:l(()=>t[11]||(t[11]=[s("div",{style:{width:"250px"}}," 默认会存储图片到配置的存储中、如果开启此选择则表示不保存原图到我们配置的存储上、那么则必须配置一个图片反代地址、直接反代访问原始图片、这样可以进一步节省空间、需要您部署mj-proxy项目并填写基础地址即可！ ",-1)])),default:l(()=>[e(_,{class:"ml-3 cursor-pointer"},{default:l(()=>[e(f)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof V=="function"&&V(q);export{q as default};
