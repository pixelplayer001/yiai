
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as v}from"./index-ffb2bbfd.js";import{a as _}from"./config-e982e661.js";import{d as T,O as q,r as d,q as j,h as n,o as B,c as E,e as t,f as o,a as g,k as N,E as y,n as b}from"./index-6b0fe787.js";const O={class:"flex justify-between"},M=T({__name:"copyright",setup(R){const r=q({copyrightTitle:"",copyrightUrl:""}),h=d({copyrightUrl:[{required:!0,trigger:"blur",message:"请填写底部版权文字内容"}],copyrightTitle:[{required:!0,trigger:"blur",message:"请填写点击底部版本跳转的地址"}]}),s=d();async function i(){const l=await _.queryConfig({keys:["copyrightUrl","copyrightTitle"]});Object.assign(r,l.data)}function x(){var l;(l=s.value)==null||l.validate(async e=>{if(e){try{await _.setConfig({settings:V(r)}),y.success("变更配置信息成功")}catch{}i()}else y.error("请填写完整信息")})}function V(l){return Object.keys(l).map(e=>({configKey:e,configVal:l[e]}))}return j(()=>{i()}),(l,e)=>{const c=n("el-alert"),U=v,w=n("el-button"),u=n("el-input"),p=n("el-form-item"),f=n("el-col"),m=n("el-row"),C=n("el-form"),k=n("el-card");return B(),E("div",null,[t(U,null,{default:o(()=>[t(c,{closable:!1,"show-icon":"",title:"底部版本参数说明",description:"当前版本的后台版权信息、文字用于展示、地址用于点击文字的跳转地址",type:"success"})]),_:1}),t(k,{style:{margin:"20px"}},{header:o(()=>[g("div",O,[e[3]||(e[3]=g("b",null,"底部版权设置",-1)),t(w,{class:"button",text:"",onClick:x},{default:o(()=>e[2]||(e[2]=[N(" 保存设置 ")])),_:1})])]),default:o(()=>[t(C,{ref_key:"formRef",ref:s,rules:h.value,model:r,"label-width":"130px"},{default:o(()=>[t(m,null,{default:o(()=>[t(f,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[t(p,{label:"底部版权文字",prop:"copyrightTitle"},{default:o(()=>[t(u,{modelValue:r.copyrightTitle,"onUpdate:modelValue":e[0]||(e[0]=a=>r.copyrightTitle=a),placeholder:"请填写底部版权文字内容",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(m,null,{default:o(()=>[t(f,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[t(p,{label:"底部跳转地址",prop:"copyrightUrl"},{default:o(()=>[t(u,{modelValue:r.copyrightUrl,"onUpdate:modelValue":e[1]||(e[1]=a=>r.copyrightUrl=a),placeholder:"请填写点击底部版本跳转的地址",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof b=="function"&&b(M);export{M as default};
