
/**
 * ç”± Fantastic-admin æä¾›æŠ€æœ¯æ”¯æŒ
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as H}from"./index-1511b2e4.js";import{d as E,u as J,r as n,o as O,c as Q,a,b as t,w as R,v as U,e as l,f as o,g as W,h as _,i as X,t as Z,j as ee,k as g,l as h,_ as le,E as C,m as oe,n as F}from"./index-6b0fe787.js";import"./config-e982e661.js";const te={style:{height:"100vh"}},se={id:"login-box"},ae={class:"login-banner"},re=["src"],ne={class:"title-container"},ue={class:"title"},de={class:"flex-bar"},ie={class:"sub-link"},me={class:"sub-link"},pe=E({name:"Login"}),z=E({...pe,setup(ge){var P;const B=W(),I=X(),L=J(),N=new URL("/admin/assets/login-banner-2c1ede93.png",self.location).href,$="Yi-Ai",v=n("login"),c=n(!1),D=n(((P=B.query.redirect)==null?void 0:P.toString())??"/"),x=n(),u=n({username:localStorage.login_username||"",password:"",remember:!!localStorage.login_username}),K=n({username:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],password:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥å¯†ç "},{min:6,max:18,trigger:"blur",message:"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½"}]});function q(){x.value&&x.value.validate(w=>{w&&(c.value=!0,L.login(u.value).then(()=>{c.value=!1,u.value.remember?localStorage.setItem("login_username",u.value.username):localStorage.removeItem("login_username"),I.push(D.value)}).catch(()=>{c.value=!1}))})}const y=n(),d=n({username:"",captcha:"",password:"",checkPassword:""}),M=n({username:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],captcha:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥éªŒè¯ç "}],password:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥å¯†ç "},{min:6,max:18,trigger:"blur",message:"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½"}],checkPassword:[{required:!0,trigger:"blur",message:"è¯·å†æ¬¡è¾“å…¥å¯†ç "},{validator:(w,e,r)=>{e!==d.value.password?r(new Error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´")):r()}}]});function T(){C({message:"æ³¨å†Œæ¨¡å—ä»…æä¾›ç•Œé¢æ¼”ç¤ºï¼Œæ— å®žé™…åŠŸèƒ½ï¼Œéœ€å¼€å‘è€…è‡ªè¡Œæ‰©å±•",type:"warning"}),y.value&&y.value.validate(w=>{})}const V=n(),f=n({username:localStorage.login_username||"",captcha:"",newPassword:""}),j=n({username:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],captcha:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥éªŒè¯ç "}],newPassword:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥æ–°å¯†ç "},{min:6,max:18,trigger:"blur",message:"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½"}]});function A(){C({message:"é‡ç½®å¯†ç æ¨¡å—ä»…æä¾›ç•Œé¢æ¼”ç¤ºï¼Œæ— å®žé™…åŠŸèƒ½ï¼Œéœ€å¼€å‘è€…è‡ªè¡Œæ‰©å±•",type:"warning"}),V.value&&V.value.validate(w=>{})}return(w,e)=>{const r=le,i=_("el-icon"),m=_("el-input"),p=_("el-form-item"),Y=_("el-checkbox"),b=_("el-button"),k=_("el-form"),S=_("el-link"),G=H;return O(),Q("div",te,[e[25]||(e[25]=a("div",{class:"bg-banner"},null,-1)),a("div",se,[a("div",ae,[e[12]||(e[12]=a("div",{class:"logo"},null,-1)),a("img",{src:t(N),class:"banner"},null,8,re)]),R(l(k,{ref_key:"loginFormRef",ref:x,model:t(u),rules:t(K),class:"login-form",autocomplete:"on"},{default:o(()=>[a("div",ne,[a("h3",ue," æ¬¢è¿Žæ¥åˆ° "+Z(t($))+" ! ðŸ‘‹ðŸ» ",1)]),a("div",null,[l(p,{prop:"username"},{default:o(()=>[l(m,{modelValue:t(u).username,"onUpdate:modelValue":e[0]||(e[0]=s=>t(u).username=s),placeholder:"ç”¨æˆ·å",text:"",tabindex:"1",autocomplete:"on"},{prefix:o(()=>[l(i,null,{default:o(()=>[l(r,{name:"ep:user"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(p,{prop:"password"},{default:o(()=>[l(m,{modelValue:t(u).password,"onUpdate:modelValue":e[1]||(e[1]=s=>t(u).password=s),type:"password",placeholder:"å¯†ç ",tabindex:"2",autocomplete:"on","show-password":"",onKeyup:ee(q,["enter"])},{prefix:o(()=>[l(i,null,{default:o(()=>[l(r,{name:"ep:lock"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),a("div",de,[l(Y,{modelValue:t(u).remember,"onUpdate:modelValue":e[2]||(e[2]=s=>t(u).remember=s)},{default:o(()=>e[13]||(e[13]=[g(" è®°ä½æˆ‘ ")])),_:1},8,["modelValue"])]),l(b,{loading:t(c),type:"primary",size:"large",style:{width:"100%"},onClick:h(q,["prevent"])},{default:o(()=>e[14]||(e[14]=[g(" ç™»å½• ")])),_:1},8,["loading"]),e[15]||(e[15]=a("div",{class:"sub-link"},null,-1))]),_:1},8,["model","rules"]),[[U,t(v)==="login"]]),R(l(k,{ref_key:"registerFormRef",ref:y,model:t(d),rules:t(M),class:"login-form","auto-complete":"on"},{default:o(()=>[e[20]||(e[20]=a("div",{class:"title-container"},[a("h3",{class:"title"}," æŽ¢ç´¢ä»Žè¿™é‡Œå¼€å§‹! ðŸš€ ")],-1)),a("div",null,[l(p,{prop:"username"},{default:o(()=>[l(m,{modelValue:t(d).username,"onUpdate:modelValue":e[3]||(e[3]=s=>t(d).username=s),placeholder:"ç”¨æˆ·å",tabindex:"1",autocomplete:"on"},{prefix:o(()=>[l(i,null,{default:o(()=>[l(r,{name:"ep:user"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(p,{prop:"captcha"},{default:o(()=>[l(m,{modelValue:t(d).captcha,"onUpdate:modelValue":e[4]||(e[4]=s=>t(d).captcha=s),placeholder:"éªŒè¯ç ",tabindex:"2",autocomplete:"on"},{prefix:o(()=>[l(i,null,{default:o(()=>[l(r,{name:"ep:key"})]),_:1})]),append:o(()=>[l(b,null,{default:o(()=>e[16]||(e[16]=[g("å‘é€éªŒè¯ç ")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(p,{prop:"password"},{default:o(()=>[l(m,{modelValue:t(d).password,"onUpdate:modelValue":e[5]||(e[5]=s=>t(d).password=s),type:"password",placeholder:"å¯†ç ",tabindex:"3",autocomplete:"on","show-password":""},{prefix:o(()=>[l(i,null,{default:o(()=>[l(r,{name:"ep:lock"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(p,{prop:"checkPassword"},{default:o(()=>[l(m,{modelValue:t(d).checkPassword,"onUpdate:modelValue":e[6]||(e[6]=s=>t(d).checkPassword=s),type:"password",placeholder:"ç¡®è®¤å¯†ç ",tabindex:"4",autocomplete:"on","show-password":""},{prefix:o(()=>[l(i,null,{default:o(()=>[l(r,{name:"ep:lock"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),l(b,{loading:t(c),type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:h(T,["prevent"])},{default:o(()=>e[17]||(e[17]=[g(" æ³¨å†Œ ")])),_:1},8,["loading"]),a("div",ie,[e[19]||(e[19]=a("span",{class:"text"},"å·²ç»æœ‰å¸å·?",-1)),l(S,{type:"primary",underline:!1,onClick:e[7]||(e[7]=s=>v.value="login")},{default:o(()=>e[18]||(e[18]=[g(" åŽ»ç™»å½• ")])),_:1})])]),_:1},8,["model","rules"]),[[U,t(v)==="register"]]),R(l(k,{ref_key:"resetFormRef",ref:V,model:t(f),rules:t(j),class:"login-form","auto-complete":"on"},{default:o(()=>[e[24]||(e[24]=a("div",{class:"title-container"},[a("h3",{class:"title"}," å¿˜è®°å¯†ç äº†? ðŸ”’ ")],-1)),a("div",null,[l(p,{prop:"username"},{default:o(()=>[l(m,{modelValue:t(f).username,"onUpdate:modelValue":e[8]||(e[8]=s=>t(f).username=s),placeholder:"ç”¨æˆ·å",tabindex:"1",autocomplete:"on"},{prefix:o(()=>[l(i,null,{default:o(()=>[l(r,{name:"ep:user"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(p,{prop:"captcha"},{default:o(()=>[l(m,{modelValue:t(f).captcha,"onUpdate:modelValue":e[9]||(e[9]=s=>t(f).captcha=s),placeholder:"éªŒè¯ç ",tabindex:"2",autocomplete:"on"},{prefix:o(()=>[l(i,null,{default:o(()=>[l(r,{name:"ep:key"})]),_:1})]),append:o(()=>[l(b,null,{default:o(()=>e[21]||(e[21]=[g("å‘é€éªŒè¯ç ")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(p,{prop:"newPassword"},{default:o(()=>[l(m,{modelValue:t(f).newPassword,"onUpdate:modelValue":e[10]||(e[10]=s=>t(f).newPassword=s),type:"password",placeholder:"æ–°å¯†ç ",tabindex:"3",autocomplete:"on","show-password":""},{prefix:o(()=>[l(i,null,{default:o(()=>[l(r,{name:"ep:lock"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),l(b,{loading:t(c),type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:h(A,["prevent"])},{default:o(()=>e[22]||(e[22]=[g(" ç¡®è®¤ ")])),_:1},8,["loading"]),a("div",me,[l(S,{type:"primary",underline:!1,onClick:e[11]||(e[11]=s=>v.value="login")},{default:o(()=>e[23]||(e[23]=[g(" è¿”å›žç™»å½• ")])),_:1})])]),_:1},8,["model","rules"]),[[U,t(v)==="reset"]])]),l(G)])}}});typeof F=="function"&&F(z);const ve=oe(z,[["__scopeId","data-v-a9be8c83"]]);export{ve as default};
