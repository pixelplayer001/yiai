import{d as te,r as O,ax as De,bg as Ee,e as L,aN as Le,bh as qe,aD as Ke,w as Je,Z as Qe,bi as Ze,bj as et,aT as pe,ae as ze,af as Be,ab as D,bk as tt,T as je,bl as nt,bm as Fe,bn as rt,bo as ot,bp as st,ar as I,bq as ve,as as q,at as ee,av as ne,br as at,bs as it,aO as Ue,aR as Re,aQ as Ie,bd as Oe,bt as lt,aS as ut,bu as dt,bv as ct,bw as ft,bx as pt,aX as re,ay as mt,by as vt,C as be,u as ce,b as ge,Q as bt,bz as He,bA as gt,h as he,o as N,c as J,k as f,l as c,a as e,q as n,bB as de,bC as Q,t as A,I as F,U as Ae,A as oe,H as U,m as G,s as Z,ak as se,F as We,j as ht,bD as yt,bE as xt,f as Ge,ad as Xe,a6 as me,a7 as Pe,aZ as wt,a_ as _e,bF as $e,p as Ne,bG as Ct,bH as kt,a9 as St,bI as _t,E as Te,bJ as $t,bK as zt,J as ue,bL as fe,M as Tt,n as Et,ao as At,bM as Pt,bN as Mt,aa as Bt}from"./index-768c9aff.js";import{N as Ve}from"./DataTable-4ba9fb29.js";import{_ as Rt}from"./titleBar.vue_vue_type_script_setup_true_lang-57f7b35c.js";import{N as It}from"./LayoutSider-73de740d.js";import"./Select-fc7266b8.js";const Ot=te({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentClass:String,contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(s){const o=O(!!s.show),a=O(null),P=De(Ee);let k=0,v="",d=null;const t=O(!1),l=O(!1),b=L(()=>s.placement==="top"||s.placement==="bottom"),{mergedClsPrefixRef:w,mergedRtlRef:S}=Le(s),T=qe("Drawer",S,w),p=x,y=z=>{l.value=!0,k=b.value?z.clientY:z.clientX,v=document.body.style.cursor,document.body.style.cursor=b.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",m),document.body.addEventListener("mouseleave",p),document.body.addEventListener("mouseup",x)},u=()=>{d!==null&&(window.clearTimeout(d),d=null),l.value?t.value=!0:d=window.setTimeout(()=>{t.value=!0},300)},r=()=>{d!==null&&(window.clearTimeout(d),d=null),t.value=!1},{doUpdateHeight:B,doUpdateWidth:W}=P,X=z=>{const{maxWidth:j}=s;if(j&&z>j)return j;const{minWidth:H}=s;return H&&z<H?H:z},R=z=>{const{maxHeight:j}=s;if(j&&z>j)return j;const{minHeight:H}=s;return H&&z<H?H:z};function m(z){var j,H;if(l.value)if(b.value){let V=((j=a.value)===null||j===void 0?void 0:j.offsetHeight)||0;const K=k-z.clientY;V+=s.placement==="bottom"?K:-K,V=R(V),B(V),k=z.clientY}else{let V=((H=a.value)===null||H===void 0?void 0:H.offsetWidth)||0;const K=k-z.clientX;V+=s.placement==="right"?K:-K,V=X(V),W(V),k=z.clientX}}function x(){l.value&&(k=0,l.value=!1,document.body.style.cursor=v,document.body.removeEventListener("mousemove",m),document.body.removeEventListener("mouseup",x),document.body.removeEventListener("mouseleave",p))}Ke(()=>{s.show&&(o.value=!0)}),Je(()=>s.show,z=>{z||x()}),Qe(()=>{x()});const E=L(()=>{const{show:z}=s,j=[[Be,z]];return s.showMask||j.push([Ze,s.onClickoutside,void 0,{capture:!0}]),j});function i(){var z;o.value=!1,(z=s.onAfterLeave)===null||z===void 0||z.call(s)}return et(L(()=>s.blockScroll&&o.value)),pe(rt,a),pe(ot,null),pe(st,null),{bodyRef:a,rtlEnabled:T,mergedClsPrefix:P.mergedClsPrefixRef,isMounted:P.isMountedRef,mergedTheme:P.mergedThemeRef,displayed:o,transitionName:L(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[s.placement]),handleAfterLeave:i,bodyDirectives:E,handleMousedownResizeTrigger:y,handleMouseenterResizeTrigger:u,handleMouseleaveResizeTrigger:r,isDragging:l,isHoverOnResizeTrigger:t}},render(){const{$slots:s,mergedClsPrefix:o}=this;return this.displayDirective==="show"||this.displayed||this.show?ze(D("div",{role:"none"},D(tt,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>D(je,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>ze(D("div",nt(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${o}-drawer`,this.rtlEnabled&&`${o}-drawer--rtl`,`${o}-drawer--${this.placement}-placement`,this.isDragging&&`${o}-drawer--unselectable`,this.nativeScrollbar&&`${o}-drawer--native-scrollbar`]}),[this.resizable?D("div",{class:[`${o}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${o}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?D("div",{class:[`${o}-drawer-content-wrapper`,this.contentClass],style:this.contentStyle,role:"none"},s):D(Fe,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:[`${o}-drawer-content-wrapper`,this.contentClass],theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),s)]),this.bodyDirectives)})})),[[Be,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:Nt,cubicBezierEaseOut:Dt}=ve;function Lt({duration:s="0.3s",leaveDuration:o="0.2s",name:a="slide-in-from-bottom"}={}){return[I(`&.${a}-transition-leave-active`,{transition:`transform ${o} ${Nt}`}),I(`&.${a}-transition-enter-active`,{transition:`transform ${s} ${Dt}`}),I(`&.${a}-transition-enter-to`,{transform:"translateY(0)"}),I(`&.${a}-transition-enter-from`,{transform:"translateY(100%)"}),I(`&.${a}-transition-leave-from`,{transform:"translateY(0)"}),I(`&.${a}-transition-leave-to`,{transform:"translateY(100%)"})]}const{cubicBezierEaseIn:jt,cubicBezierEaseOut:Ft}=ve;function Ut({duration:s="0.3s",leaveDuration:o="0.2s",name:a="slide-in-from-left"}={}){return[I(`&.${a}-transition-leave-active`,{transition:`transform ${o} ${jt}`}),I(`&.${a}-transition-enter-active`,{transition:`transform ${s} ${Ft}`}),I(`&.${a}-transition-enter-to`,{transform:"translateX(0)"}),I(`&.${a}-transition-enter-from`,{transform:"translateX(-100%)"}),I(`&.${a}-transition-leave-from`,{transform:"translateX(0)"}),I(`&.${a}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:Ht,cubicBezierEaseOut:Wt}=ve;function Gt({duration:s="0.3s",leaveDuration:o="0.2s",name:a="slide-in-from-right"}={}){return[I(`&.${a}-transition-leave-active`,{transition:`transform ${o} ${Ht}`}),I(`&.${a}-transition-enter-active`,{transition:`transform ${s} ${Wt}`}),I(`&.${a}-transition-enter-to`,{transform:"translateX(0)"}),I(`&.${a}-transition-enter-from`,{transform:"translateX(100%)"}),I(`&.${a}-transition-leave-from`,{transform:"translateX(0)"}),I(`&.${a}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:Xt,cubicBezierEaseOut:Vt}=ve;function Yt({duration:s="0.3s",leaveDuration:o="0.2s",name:a="slide-in-from-top"}={}){return[I(`&.${a}-transition-leave-active`,{transition:`transform ${o} ${Xt}`}),I(`&.${a}-transition-enter-active`,{transition:`transform ${s} ${Vt}`}),I(`&.${a}-transition-enter-to`,{transform:"translateY(0)"}),I(`&.${a}-transition-enter-from`,{transform:"translateY(-100%)"}),I(`&.${a}-transition-leave-from`,{transform:"translateY(0)"}),I(`&.${a}-transition-leave-to`,{transform:"translateY(-100%)"})]}const qt=I([q("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[Gt(),Ut(),Yt(),Lt(),ee("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),ee("native-scrollbar",[q("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),ne("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[ee("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),q("drawer-content-wrapper",`
 box-sizing: border-box;
 `),q("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[ee("native-scrollbar",[q("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),q("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),q("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),q("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[ne("main",`
 flex: 1;
 `),ne("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),q("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),ee("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-bottom-left-radius: var(--n-border-radius);
 `,[ne("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),ee("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 border-top-right-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[ne("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),ee("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[ne("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),ee("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-top-right-radius: var(--n-border-radius);
 `,[ne("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),I("body",[I(">",[q("drawer-container",`
 position: fixed;
 `)])]),q("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[I("> *",`
 pointer-events: all;
 `)]),q("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[ee("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),at({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),Kt=Object.assign(Object.assign({},Ue.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentClass:String,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),Jt=te({name:"Drawer",inheritAttrs:!1,props:Kt,setup(s){const{mergedClsPrefixRef:o,namespaceRef:a,inlineThemeDisabled:P}=Le(s),k=it(),v=Ue("Drawer","-drawer",qt,ft,s,o),d=O(s.defaultWidth),t=O(s.defaultHeight),l=Re(Ie(s,"width"),d),b=Re(Ie(s,"height"),t),w=L(()=>{const{placement:x}=s;return x==="top"||x==="bottom"?"":Oe(l.value)}),S=L(()=>{const{placement:x}=s;return x==="left"||x==="right"?"":Oe(b.value)}),T=x=>{const{onUpdateWidth:E,"onUpdate:width":i}=s;E&&re(E,x),i&&re(i,x),d.value=x},p=x=>{const{onUpdateHeight:E,"onUpdate:width":i}=s;E&&re(E,x),i&&re(i,x),t.value=x},y=L(()=>[{width:w.value,height:S.value},s.drawerStyle||""]);function u(x){const{onMaskClick:E,maskClosable:i}=s;i&&X(!1),E&&E(x)}function r(x){u(x)}const B=lt();function W(x){var E;(E=s.onEsc)===null||E===void 0||E.call(s),s.show&&s.closeOnEsc&&pt(x)&&(B.value||X(!1))}function X(x){const{onHide:E,onUpdateShow:i,"onUpdate:show":z}=s;i&&re(i,x),z&&re(z,x),E&&!x&&re(E,x)}pe(Ee,{isMountedRef:k,mergedThemeRef:v,mergedClsPrefixRef:o,doUpdateShow:X,doUpdateHeight:p,doUpdateWidth:T});const R=L(()=>{const{common:{cubicBezierEaseInOut:x,cubicBezierEaseIn:E,cubicBezierEaseOut:i},self:{color:z,textColor:j,boxShadow:H,lineHeight:V,headerPadding:K,footerPadding:ye,borderRadius:xe,bodyPadding:we,titleFontSize:Ce,titleTextColor:ae,titleFontWeight:le,headerBorderBottom:ke,footerBorderTop:Se,closeIconColor:$,closeIconColorHover:h,closeIconColorPressed:g,closeColorHover:C,closeColorPressed:_,closeIconSize:M,closeSize:Y,closeBorderRadius:ie,resizableTriggerColorHover:Me}}=v.value;return{"--n-line-height":V,"--n-color":z,"--n-border-radius":xe,"--n-text-color":j,"--n-box-shadow":H,"--n-bezier":x,"--n-bezier-out":i,"--n-bezier-in":E,"--n-header-padding":K,"--n-body-padding":we,"--n-footer-padding":ye,"--n-title-text-color":ae,"--n-title-font-size":Ce,"--n-title-font-weight":le,"--n-header-border-bottom":ke,"--n-footer-border-top":Se,"--n-close-icon-color":$,"--n-close-icon-color-hover":h,"--n-close-icon-color-pressed":g,"--n-close-size":Y,"--n-close-color-hover":C,"--n-close-color-pressed":_,"--n-close-icon-size":M,"--n-close-border-radius":ie,"--n-resize-trigger-color-hover":Me}}),m=P?ut("drawer",void 0,R,s):void 0;return{mergedClsPrefix:o,namespace:a,mergedBodyStyle:y,handleOutsideClick:r,handleMaskClick:u,handleEsc:W,mergedTheme:v,cssVars:P?void 0:R,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender,isMounted:k}},render(){const{mergedClsPrefix:s}=this;return D(ct,{to:this.to,show:this.show},{default:()=>{var o;return(o=this.onRender)===null||o===void 0||o.call(this),ze(D("div",{class:[`${s}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?D(je,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?D("div",{"aria-hidden":!0,class:[`${s}-drawer-mask`,this.showMask==="transparent"&&`${s}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,D(Ot,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,contentClass:this.contentClass,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,maxHeight:this.maxHeight,minHeight:this.minHeight,maxWidth:this.maxWidth,minWidth:this.minWidth,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleOutsideClick}),this.$slots)),[[dt,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Qt={title:String,headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],bodyClass:String,bodyStyle:[Object,String],bodyContentClass:String,bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Zt=te({name:"DrawerContent",props:Qt,slots:Object,setup(){const s=De(Ee,null);s||mt("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:o}=s;function a(){o(!1)}return{handleCloseClick:a,mergedTheme:s.mergedThemeRef,mergedClsPrefix:s.mergedClsPrefixRef}},render(){const{title:s,mergedClsPrefix:o,nativeScrollbar:a,mergedTheme:P,bodyClass:k,bodyStyle:v,bodyContentClass:d,bodyContentStyle:t,headerClass:l,headerStyle:b,footerClass:w,footerStyle:S,scrollbarProps:T,closable:p,$slots:y}=this;return D("div",{role:"none",class:[`${o}-drawer-content`,a&&`${o}-drawer-content--native-scrollbar`]},y.header||s||p?D("div",{class:[`${o}-drawer-header`,l],style:b,role:"none"},D("div",{class:`${o}-drawer-header__main`,role:"heading","aria-level":"1"},y.header!==void 0?y.header():s),p&&D(vt,{onClick:this.handleCloseClick,clsPrefix:o,class:`${o}-drawer-header__close`,absolute:!0})):null,a?D("div",{class:[`${o}-drawer-body`,k],style:v,role:"none"},D("div",{class:[`${o}-drawer-body-content-wrapper`,d],style:t,role:"none"},y)):D(Fe,Object.assign({themeOverrides:P.peerOverrides.Scrollbar,theme:P.peers.Scrollbar},T,{class:`${o}-drawer-body`,contentClass:[`${o}-drawer-body-content-wrapper`,d],contentStyle:t}),y),y.footer?D("div",{class:[`${o}-drawer-footer`,w],style:S,role:"none"},y.footer()):null)}}),en={1:"注册赠送",2:"受邀请赠送",3:"邀请他人赠送",4:"购买卡密充值",5:"管理员赠送",6:"扫码购买充值",7:"MJ绘画失败退款",8:"签到奖励"},tn={class:"flex h-full flex-col"},nn={class:"text-3xl text-[#555]"},rn={class:"text-3xl text-[#555]"},on={class:"text-3xl text-[#555]"},sn={class:"relative"},an=["src"],ln={class:"flex justify-between items-end min-h-28"},un={class:"font-bold"},dn={class:"flex justify-between items-end min-h-28"},cn={class:"font-bold"},fn={class:"flex justify-between items-end min-h-28"},pn={class:"font-bold"},mn={class:"flex justify-between items-end mt-5"},vn={class:"text-xl text-[red] font-bold"},bn=te({__name:"wallet",setup(s){const{isSmallMd:o,isMobile:a}=be(),P=ce(),k=ge();bt();const v=L(()=>P.userBalance),d=O(!1),t=O(""),l=O(!1),b=O([]),w=O(!1),S=He({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,20,50],onChange:R=>{S.page=R,y()},onUpdatePageSize:R=>{S.pageSize=R,S.page=1,y()}}),T=L(()=>[{title:"订单编号",key:"uid"},{title:"充值类型",key:"rechargeType",render(R){return en[R.rechargeType]}},{title:"基础模型额度",key:"model3Count"},{title:"高级模型额度",key:"model4Count"},{title:"MJ绘画额度",key:"drawMjCount"},{title:"有效期",key:"expireDateCn"},{title:"充值时间",key:"createdAt",render(R){return R.createdAt}}]),p=O([]);async function y(){const R=await gt({page:S.page,size:S.pageSize}),{rows:m}=R.data;p.value=m}async function u(){if(!t.value)return k.warning("请先填写卡密！");try{d.value=!0,await yt({code:t.value}),k.success("卡密兑换成功、祝您使用愉快！"),y(),P.getUserInfo(),d.value=!1}catch{d.value=!1}}function r(){l.value=!0}async function B(){const R=await xt({status:1,size:30});b.value=R.data.rows}const W=L(()=>{var R;return(R=P.globalConfig)==null?void 0:R.buyCramiAddress});function X(){window.open(W.value)}return he(()=>{y()}),(R,m)=>(N(),J("div",tn,[f(n(se),null,{header:c(()=>m[2]||(m[2]=[e("div",null,"用户钱包余额",-1)])),default:c(()=>[f(n(de),{"x-gap":24,"y-gap":24,cols:n(o)?1:2,class:"mt-3"},{default:c(()=>[f(n(Q),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[m[3]||(m[3]=e("div",{class:"text-[#95aac9] mb-2 text-base"}," 基础模型余额 ",-1)),e("b",nn,A(v.value.sumModel3Count??0),1),m[4]||(m[4]=F()),m[5]||(m[5]=e("span",{class:"ml-4 text-[#989898]"},"不同模型消费不同积分！",-1))]),_:1}),f(n(Q),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[m[6]||(m[6]=e("div",{class:"text-[#95aac9] mb-2 text-base"}," 高级模型余额 ",-1)),e("b",rn,A(v.value.sumModel4Count??0),1),m[7]||(m[7]=F()),m[8]||(m[8]=e("span",{class:"ml-4 text-[#989898]"},"不同模型消费不同积分！",-1))]),_:1}),f(n(Q),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[m[9]||(m[9]=e("div",{class:"text-[#95aac9] mb-2 text-base"}," MJ绘画余额 ",-1)),e("b",on,A(v.value.sumDrawMjCount??0),1),m[10]||(m[10]=F()),m[11]||(m[11]=e("span",{class:"ml-4 text-[#989898]"},"不同画图消耗不同积分！",-1))]),_:1}),f(n(Q),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[m[14]||(m[14]=e("div",{class:"text-[#95aac9] mb-2 text-base"}," 卡密充值 ",-1)),f(n(Ae),{wrap:!1},{default:c(()=>[f(n(oe),{value:t.value,"onUpdate:value":m[0]||(m[0]=x=>t.value=x),placeholder:"请粘贴或填写您的卡密信息！",class:"mr-3",maxlength:"128","show-count":"",clearable:""},null,8,["value"]),f(n(U),{type:"primary",loading:d.value,onClick:u},{default:c(()=>m[12]||(m[12]=[F(" 兑换 ")])),_:1},8,["loading"]),W.value?(N(),G(n(U),{key:0,type:"success",onClick:r},{default:c(()=>m[13]||(m[13]=[F(" 购买卡密 ")])),_:1})):Z("",!0)]),_:1})]),_:1})]),_:1},8,["cols"])]),_:1}),f(n(se),{class:"mt-5 flex-1"},{header:c(()=>m[15]||(m[15]=[e("div",null,"充值记录",-1)])),default:c(()=>[f(n(Ve),{columns:T.value,loading:w.value,"scroll-x":800,data:p.value,"max-height":"280",pagination:S},null,8,["columns","loading","data","pagination"])]),_:1}),f(n(Jt),{show:l.value,"onUpdate:show":m[1]||(m[1]=x=>l.value=x),width:n(o)?"100%":502,"on-after-enter":B},{default:c(()=>[f(n(Zt),{title:"套餐购买",closable:""},{default:c(()=>[f(n(de),{"x-gap":15,"y-gap":15,cols:n(o)?1:2,class:"mt-3"},{default:c(()=>[(N(!0),J(We,null,ht(b.value,(x,E)=>(N(),G(n(Q),{key:E},{default:c(()=>[f(n(se),{size:"small",embedded:""},{header:c(()=>[e("div",sn,[e("b",null,A(x.name),1)])]),cover:c(()=>[e("img",{src:x.coverImg},null,8,an)]),default:c(()=>[e("div",null,[e("p",null,A(x.des),1),e("div",ln,[m[16]||(m[16]=e("span",{class:"text-sm font-bold mr-1"},"基础模型额度",-1)),e("span",un,A(x.model3Count),1)]),e("div",dn,[m[17]||(m[17]=e("span",{class:"text-sm font-bold mr-1"},"高级模型额度",-1)),e("span",cn,A(x.model4Count),1)]),e("div",fn,[m[18]||(m[18]=e("span",{class:"text-sm font-bold mr-1"},"MJ绘画额度",-1)),e("span",pn,A(x.drawMjCount),1)]),e("div",mn,[e("i",vn,A(`￥${x.price}`),1),f(n(U),{type:"primary",dashed:"",size:"small",onClick:X},{default:c(()=>m[19]||(m[19]=[F(" 购买套餐 ")])),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["cols"])]),_:1})]),_:1},8,["show","width"])]))}}),gn={class:"flex flex-col justify-center items-center"},hn={class:"text-2xl text-primary self-start mb-3 flex justify-between w-full"},yn={class:"mt-3 text-lg text-[#555]"},xn={class:"text-[#95aac9] mt-2"},wn={class:"text-[#555] mt-3 px-4"},Cn={class:"self-start"},kn={key:0,class:"flex pl-3 pt-3 text-base font-bold text-primary"},Sn={class:"flex items-center space-x-4 pl-3 mt-3"},_n={class:"w-[200px]"},$n={class:"flex items-center space-x-4 pl-3 mt-3"},zn={class:"w-[200px]"},Tn={class:"flex items-center space-x-4 pl-3 mt-3"},En={class:"w-[200px]"},An={class:"flex items-center space-x-4 pl-3 mt-3"},Pn={class:"w-[200px]"},Mn={key:1},Bn=te({__name:"detail",setup(s){const o=ce(),a=Ge(),{userBalance:P}=o,k=Xe(),v=L(()=>o.userInfo.email||""),d=L(()=>o.userInfo.isBindWx),t=O(o.userInfo.avatar??me),l=O(o.userInfo.username??"未登录"),b=O(o.userInfo.sign??"我是一台基于深度学习和自然语言处理技术的 AI 机器人，旨在为用户提供高效、精准、个性化的智能服务。");function w(){o.logOut(),a.push("/")}const S=L(()=>o.isLogin);return he(()=>{S.value||o.setLoginDialog(!0)}),(T,p)=>(N(),J("div",gn,[e("div",hn,[p[4]||(p[4]=e("span",null,"Profile",-1)),S.value?(N(),G(n(U),{key:0,tertiary:"",type:"error",onClick:w},{default:c(()=>p[2]||(p[2]=[F(" 退出登录 ")])),_:1})):Z("",!0),S.value?Z("",!0):(N(),G(n(U),{key:1,tertiary:"",type:"success",onClick:p[0]||(p[0]=y=>n(o).setLoginDialog(!0))},{default:c(()=>p[3]||(p[3]=[F(" 点击登入 ")])),_:1}))]),f(n(Pe),{size:148,src:t.value,"fallback-src":n(me)},null,8,["src","fallback-src"]),e("b",yn,A(l.value),1),e("span",xn,A(v.value),1),e("div",wn,A(b.value),1),e("div",Cn,[p[11]||(p[11]=e("div",{class:"flex pl-3 pt-3 text-base font-bold text-primary"},[e("span",null,"我的账户余额")],-1)),n(P).expirationTime?(N(),J("div",kn,[p[5]||(p[5]=e("span",null,"会员过期时间：",-1)),e("span",null,A(n(P).expirationTime),1)])):Z("",!0),e("div",Sn,[p[6]||(p[6]=e("span",{class:"flex-shrink-0 w-24 text-primary"},"基础模型余额:",-1)),e("div",_n,A(n(P).sumModel3Count||"0")+" 积分 ",1)]),e("div",$n,[p[7]||(p[7]=e("span",{class:"flex-shrink-0 w-24 text-primary"},"高级模型余额:",-1)),e("div",zn,A(n(P).sumModel4Count||"0")+" 积分 ",1)]),e("div",Tn,[p[8]||(p[8]=e("span",{class:"flex-shrink-0 w-24 text-primary"},"绘画余额:",-1)),e("div",En,A(n(P).sumDrawMjCount||"0")+" 积分 ",1)]),e("div",An,[p[10]||(p[10]=e("span",{class:"flex-shrink-0 w-24 text-primary"},"绑定微信:",-1)),e("div",Pn,[d.value?(N(),J("span",Mn,"已绑定微信")):(N(),G(n(U),{key:0,text:"",onClick:p[1]||(p[1]=y=>n(k).updateBindwxDialog(!0))},{default:c(()=>p[9]||(p[9]=[F(" 点击绑定微信 ")])),_:1}))])])])]))}}),Rn={class:"flex justify-between"},In=te({__name:"password",setup(s){const o=O({oldPassword:"",password:"",reenteredPassword:""}),a=o,P=O(null),k=O(null),v={oldPassword:[{required:!0,min:6,message:"密码最短长度为6位数",trigger:["blur"]},{required:!0,max:30,message:"密码最长长度为30位数",trigger:["blur"]}],password:[{required:!0,message:"请输入密码"}],reenteredPassword:[{required:!0,message:"请再次输入密码",trigger:["input","blur"]},{validator:d,message:"两次密码输入不一致",trigger:"input"},{validator:t,message:"两次密码输入不一致",trigger:["blur","password-input"]}]};function d(u,r){return!!o.value.password&&o.value.password.startsWith(r)&&o.value.password.length>=r.length}function t(u,r){return r===o.value.password}function l(){var u;o.value.reenteredPassword&&((u=k.value)==null||u.validate({trigger:"password-input"}))}const{isSmallXl:b}=be(),w=ce(),S=ge();async function T(u){(await Ct(u)).success&&S.success("密码更新成功、请重新登录系统！"),p(),w.updatePasswordSuccess()}function p(){o.value={oldPassword:"",password:"",reenteredPassword:""}}function y(u){var r;u.preventDefault(),(r=P.value)==null||r.validate(async B=>{if(!B){const{oldPassword:W,password:X}=o.value;T({oldPassword:W,password:X})}})}return(u,r)=>(N(),G(n(se),null,{header:c(()=>r[5]||(r[5]=[e("div",null,"变更您的密码",-1)])),default:c(()=>[f(n(de),{"x-gap":24,"y-gap":24,cols:n(b)?1:3,class:"mt-3"},{default:c(()=>[f(n(Q),{class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:"2"},{default:c(()=>[f(n(wt),{ref_key:"formRef",ref:P,model:n(a),rules:v},{default:c(()=>[f(n(_e),{path:"oldPassword",label:"旧密码"},{default:c(()=>[f(n(oe),{value:n(a).oldPassword,"onUpdate:value":r[0]||(r[0]=B=>n(a).oldPassword=B),onKeydown:r[1]||(r[1]=$e(Ne(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),f(n(_e),{path:"password",label:"新密码"},{default:c(()=>[f(n(oe),{value:n(a).password,"onUpdate:value":r[2]||(r[2]=B=>n(a).password=B),type:"password",onInput:l,onKeydown:r[3]||(r[3]=$e(Ne(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),f(n(_e),{ref_key:"rPasswordFormItemRef",ref:k,first:"",path:"reenteredPassword",label:"确认密码"},{default:c(()=>[f(n(oe),{value:n(a).reenteredPassword,"onUpdate:value":r[4]||(r[4]=B=>n(a).reenteredPassword=B),disabled:!n(a).password,type:"password",tabindex:"0",onKeyup:$e(y,["enter"])},null,8,["value","disabled"])]),_:1},512),e("div",Rn,[r[7]||(r[7]=e("span",{class:"text-[#95AAC9]"},"更新密码后将重新登录！",-1)),f(n(U),{disabled:n(a).oldPassword===null,type:"primary",onClick:y},{default:c(()=>r[6]||(r[6]=[F(" 更新您的密码 ")])),_:1},8,["disabled"])])]),_:1},8,["model"])]),_:1}),f(n(Q),{class:"border rounded-sm p-3 bg-[#f8f9fa] h-48 dark:bg-[#18181c] dark:border-[#ffffff17]"},{default:c(()=>r[8]||(r[8]=[e("b",{class:"text-base"},"密码要求",-1),e("p",{class:"text-[#95AAC9] mt-3"}," 新的密码必须满足以下所有要求。 ",-1),e("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 最少6个字符 ",-1),e("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 最多30个字符 ",-1),e("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 至少带有一个数字 ",-1)])),_:1})]),_:1},8,["cols"])]),_:1}))}});var Ye={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(s,o){(function(P,k){s.exports=k()})(kt,function(){return function(){var a={686:function(v,d,t){t.d(d,{default:function(){return Se}});var l=t(279),b=t.n(l),w=t(370),S=t.n(w),T=t(817),p=t.n(T);function y($){try{return document.execCommand($)}catch{return!1}}var u=function(h){var g=p()(h);return y("cut"),g},r=u;function B($){var h=document.documentElement.getAttribute("dir")==="rtl",g=document.createElement("textarea");g.style.fontSize="12pt",g.style.border="0",g.style.padding="0",g.style.margin="0",g.style.position="absolute",g.style[h?"right":"left"]="-9999px";var C=window.pageYOffset||document.documentElement.scrollTop;return g.style.top="".concat(C,"px"),g.setAttribute("readonly",""),g.value=$,g}var W=function(h,g){var C=B(h);g.container.appendChild(C);var _=p()(C);return y("copy"),C.remove(),_},X=function(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},C="";return typeof h=="string"?C=W(h,g):h instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(h==null?void 0:h.type)?C=W(h.value,g):(C=p()(h),y("copy")),C},R=X;function m($){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(g){return typeof g}:m=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},m($)}var x=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=h.action,C=g===void 0?"copy":g,_=h.container,M=h.target,Y=h.text;if(C!=="copy"&&C!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(M!==void 0)if(M&&m(M)==="object"&&M.nodeType===1){if(C==="copy"&&M.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(C==="cut"&&(M.hasAttribute("readonly")||M.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(Y)return R(Y,{container:_});if(M)return C==="cut"?r(M):R(M,{container:_})},E=x;function i($){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(g){return typeof g}:i=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},i($)}function z($,h){if(!($ instanceof h))throw new TypeError("Cannot call a class as a function")}function j($,h){for(var g=0;g<h.length;g++){var C=h[g];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty($,C.key,C)}}function H($,h,g){return h&&j($.prototype,h),g&&j($,g),$}function V($,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(h&&h.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),h&&K($,h)}function K($,h){return K=Object.setPrototypeOf||function(C,_){return C.__proto__=_,C},K($,h)}function ye($){var h=Ce();return function(){var C=ae($),_;if(h){var M=ae(this).constructor;_=Reflect.construct(C,arguments,M)}else _=C.apply(this,arguments);return xe(this,_)}}function xe($,h){return h&&(i(h)==="object"||typeof h=="function")?h:we($)}function we($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function Ce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ae($){return ae=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},ae($)}function le($,h){var g="data-clipboard-".concat($);if(h.hasAttribute(g))return h.getAttribute(g)}var ke=function($){V(g,$);var h=ye(g);function g(C,_){var M;return z(this,g),M=h.call(this),M.resolveOptions(_),M.listenClick(C),M}return H(g,[{key:"resolveOptions",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof _.action=="function"?_.action:this.defaultAction,this.target=typeof _.target=="function"?_.target:this.defaultTarget,this.text=typeof _.text=="function"?_.text:this.defaultText,this.container=i(_.container)==="object"?_.container:document.body}},{key:"listenClick",value:function(_){var M=this;this.listener=S()(_,"click",function(Y){return M.onClick(Y)})}},{key:"onClick",value:function(_){var M=_.delegateTarget||_.currentTarget,Y=this.action(M)||"copy",ie=E({action:Y,container:this.container,target:this.target(M),text:this.text(M)});this.emit(ie?"success":"error",{action:Y,text:ie,trigger:M,clearSelection:function(){M&&M.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(_){return le("action",_)}},{key:"defaultTarget",value:function(_){var M=le("target",_);if(M)return document.querySelector(M)}},{key:"defaultText",value:function(_){return le("text",_)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(_){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return R(_,M)}},{key:"cut",value:function(_){return r(_)}},{key:"isSupported",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],M=typeof _=="string"?[_]:_,Y=!!document.queryCommandSupported;return M.forEach(function(ie){Y=Y&&!!document.queryCommandSupported(ie)}),Y}}]),g}(b()),Se=ke},828:function(v){var d=9;if(typeof Element<"u"&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}function l(b,w){for(;b&&b.nodeType!==d;){if(typeof b.matches=="function"&&b.matches(w))return b;b=b.parentNode}}v.exports=l},438:function(v,d,t){var l=t(828);function b(T,p,y,u,r){var B=S.apply(this,arguments);return T.addEventListener(y,B,r),{destroy:function(){T.removeEventListener(y,B,r)}}}function w(T,p,y,u,r){return typeof T.addEventListener=="function"?b.apply(null,arguments):typeof y=="function"?b.bind(null,document).apply(null,arguments):(typeof T=="string"&&(T=document.querySelectorAll(T)),Array.prototype.map.call(T,function(B){return b(B,p,y,u,r)}))}function S(T,p,y,u){return function(r){r.delegateTarget=l(r.target,p),r.delegateTarget&&u.call(T,r)}}v.exports=w},879:function(v,d){d.node=function(t){return t!==void 0&&t instanceof HTMLElement&&t.nodeType===1},d.nodeList=function(t){var l=Object.prototype.toString.call(t);return t!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in t&&(t.length===0||d.node(t[0]))},d.string=function(t){return typeof t=="string"||t instanceof String},d.fn=function(t){var l=Object.prototype.toString.call(t);return l==="[object Function]"}},370:function(v,d,t){var l=t(879),b=t(438);function w(y,u,r){if(!y&&!u&&!r)throw new Error("Missing required arguments");if(!l.string(u))throw new TypeError("Second argument must be a String");if(!l.fn(r))throw new TypeError("Third argument must be a Function");if(l.node(y))return S(y,u,r);if(l.nodeList(y))return T(y,u,r);if(l.string(y))return p(y,u,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function S(y,u,r){return y.addEventListener(u,r),{destroy:function(){y.removeEventListener(u,r)}}}function T(y,u,r){return Array.prototype.forEach.call(y,function(B){B.addEventListener(u,r)}),{destroy:function(){Array.prototype.forEach.call(y,function(B){B.removeEventListener(u,r)})}}}function p(y,u,r){return b(document.body,y,u,r)}v.exports=w},817:function(v){function d(t){var l;if(t.nodeName==="SELECT")t.focus(),l=t.value;else if(t.nodeName==="INPUT"||t.nodeName==="TEXTAREA"){var b=t.hasAttribute("readonly");b||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),b||t.removeAttribute("readonly"),l=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var w=window.getSelection(),S=document.createRange();S.selectNodeContents(t),w.removeAllRanges(),w.addRange(S),l=w.toString()}return l}v.exports=d},279:function(v){function d(){}d.prototype={on:function(t,l,b){var w=this.e||(this.e={});return(w[t]||(w[t]=[])).push({fn:l,ctx:b}),this},once:function(t,l,b){var w=this;function S(){w.off(t,S),l.apply(b,arguments)}return S._=l,this.on(t,S,b)},emit:function(t){var l=[].slice.call(arguments,1),b=((this.e||(this.e={}))[t]||[]).slice(),w=0,S=b.length;for(w;w<S;w++)b[w].fn.apply(b[w].ctx,l);return this},off:function(t,l){var b=this.e||(this.e={}),w=b[t],S=[];if(w&&l)for(var T=0,p=w.length;T<p;T++)w[T].fn!==l&&w[T].fn._!==l&&S.push(w[T]);return S.length?b[t]=S:delete b[t],this}},v.exports=d,v.exports.TinyEmitter=d}},P={};function k(v){if(P[v])return P[v].exports;var d=P[v]={exports:{}};return a[v](d,d.exports,k),d.exports}return function(){k.n=function(v){var d=v&&v.__esModule?function(){return v.default}:function(){return v};return k.d(d,{a:d}),d}}(),function(){k.d=function(v,d){for(var t in d)k.o(d,t)&&!k.o(v,t)&&Object.defineProperty(v,t,{enumerable:!0,get:d[t]})}}(),function(){k.o=function(v,d){return Object.prototype.hasOwnProperty.call(v,d)}}(),k(686)}().default})})(Ye);var On=Ye.exports;const Nn=St(On),Dn=s=>{const o=(s==null?void 0:s.appendToBody)===void 0?!0:s.appendToBody;return{toClipboard(a,P){return new Promise((k,v)=>{const d=document.createElement("button"),t=new Nn(d,{text:()=>a,action:()=>"copy",container:P!==void 0?P:document.body});t.on("success",l=>{t.destroy(),k(l)}),t.on("error",l=>{t.destroy(),v(l)}),o&&document.body.appendChild(d),d.click(),o&&document.body.removeChild(d)})}}},Ln={class:"text-2xl text-[#555] dark:text-[#fff] whitespace-nowrap"},jn={class:"flex flex-col text-[#707384]"},Fn=te({__name:"invite",setup(s){const{toClipboard:o}=Dn(),a=ce(),P=L(()=>a.userInfo.inviteCode),k=L(()=>a.globalConfig),{isSmallXl:v,isMobile:d}=be(),t=ge(),l=O(!1),b=He({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,20,50],onChange:u=>{b.page=u,p()},onUpdatePageSize:u=>{b.pageSize=u,b.page=1,p()}}),w=L(()=>[{title:"头像",key:"avatar",render(u){return D(Pe,{src:u.avatar,size:"small",round:!0})}},{title:"用户名称",key:"username"},{title:"用户邮箱",key:"email"},{title:"受邀人状态",key:"status",render(u){return D(U,{type:u.status===1?"primary":"error",size:"small",round:!0,quaternary:!0},{default:()=>u.status===1?"已认证":"未激活"})}},{title:"邀请时间",key:"createdAt",render(u){return D("div",{style:{fontSize:"12px",color:"#999"}},()=>u.createdAt)}},{title:"获得奖励状态",key:"status",render(u){return D(U,{type:u.status===1?"success":"warning",size:"small",round:!0,quaternary:!0},{default:()=>u.status===1?"已领取邀请奖励":"等待受邀人确认"})}}]),S=O([]);async function T(){const u=await $t();if(!u.data)return t.error(u.message);t.success("生成邀请链接成功"),a.getUserInfo()}async function p(){try{l.value=!0;const u=await _t({page:b.page,size:b.pageSize});S.value=u.data.rows,l.value=!1}catch{l.value=!1}}async function y(){if(!P.value)return t.error("请先生成您的专属邀请链接！");const u=`${window.location.href}?inVitecode=${P.value}`;try{await o(u),t.success("复制专属邀请链接成功！")}catch{t.error("当前设置不支持自动复制、手动复制吧！")}}return he(()=>{p()}),(u,r)=>(N(),J(We,null,[f(n(se),null,{header:c(()=>r[0]||(r[0]=[e("div",null,"邀用户、得福利!",-1)])),default:c(()=>[f(n(de),{"x-gap":24,"y-gap":24,cols:n(v)?1:3,class:"mt-3"},{default:c(()=>{var B;return[f(n(Q),{class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:2},{default:c(()=>[r[3]||(r[3]=e("div",{class:"text-[#95aac9] mb-2 text-base"}," 我的邀请码 ",-1)),e("div",{class:Te(["flex justify-between",[n(v)?"flex-col mt-3":""]])},[e("b",Ln,A(P.value||"********"),1),f(n(Ae),{class:Te([n(v)?" mt-3":""])},{default:c(()=>[f(n(U),{type:"success",onClick:T},{default:c(()=>r[1]||(r[1]=[F(" 生成专属邀请码 ")])),_:1}),f(n(U),{type:"primary",onClick:y},{default:c(()=>r[2]||(r[2]=[F(" 复制专属邀请链接 ")])),_:1})]),_:1},8,["class"])],2)]),_:1}),Number((B=k.value)==null?void 0:B.inviteSendStatus)===1?(N(),G(n(Q),{key:0,class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:1},{default:c(()=>[r[4]||(r[4]=e("b",{class:"text-[000]"},"Tips",-1)),e("div",jn,[e("span",null,"邀请一位用户赠送"+A(k.value.inviteGiveSendModel3Count)+"积分基础模型额度+"+A(k.value.inviteGiveSendModel4Count)+"积分高级模型额度+"+A(k.value.inviteGiveSendDrawMjCount)+"MJ绘画积分额度",1),e("span",null,"收到邀请用户获得"+A(k.value.invitedGuestSendModel3Count)+"积分基础模型额度+"+A(k.value.invitedGuestSendModel4Count)+"积分高级模型额度+"+A(k.value.invitedGuestSendDrawMjCount)+"MJ绘画积分额度",1)])]),_:1})):Z("",!0)]}),_:1},8,["cols"])]),_:1}),f(n(se),{class:"mt-5"},{header:c(()=>r[5]||(r[5]=[e("div",null,"邀请记录",-1)])),default:c(()=>[f(n(Ve),{loading:l.value,remote:!0,"pagination-behavior-on-filter":"first",class:"min-h-[350px]",columns:w.value,data:S.value,pagination:b,"scroll-x":500},null,8,["loading","columns","data","pagination"])]),_:1})],64))}}),Un={class:"flex flex-col justify-center items-center"},Hn={class:"text-2xl text-primary self-start mb-14 flex justify-between w-full"},Wn={class:"mt-3 text-lg text-[#555]"},Gn={class:"text-[#95aac9] mt-2"},Xn={class:"text-[#555] mt-3 px-4"},Vn={class:"self-start mt-16"},Yn={class:"flex items-center space-x-4 pl-3 mt-3"},qn={class:"w-[230px]"},Kn={class:"flex items-center space-x-4 pl-3 mt-3"},Jn={class:"w-[230px]"},Qn={class:"flex items-center space-x-4 pl-3 mt-3"},Zn={class:"w-[230px]"},er={class:"flex items-center space-x-4 pl-3 mt-3"},tr={class:"w-[230px]"},nr={class:"flex items-center space-x-4 pl-3 mt-3"},rr={class:"w-[230px]"},or={key:0,class:"flex items-center space-x-4 pl-3 mt-3"},sr={class:"w-[230px]"},ar={key:1},ir={key:1,class:"flex items-center space-x-4 pl-3 mt-3"},lr={class:"w-[230px]"},ur={key:0,class:"flex text-[red] pt-8 text-base font-bold"},dr={key:1},cr={class:"flex items-center space-x-4"},fr={class:"flex-shrink-0 w-[60px]"},pr={class:"flex-1"},mr={class:"flex items-center space-x-4 mt-5"},vr={class:"flex-shrink-0 w-[60px]"},br={class:"flex-1"},gr={class:"flex space-x-4 mt-5"},hr={class:"flex-shrink-0 w-[60px]"},yr={class:"flex-1"},_r=te({__name:"index",setup(s){const o=Xe(),a=ce(),P=Ge(),k=O(0),v=L(()=>a.userBalance),d=L(()=>{var E;return(E=a.globalConfig)==null?void 0:E.isUseWxLogin}),t=O(!0),l=L(()=>a.isLogin),b=ge(),w=L(()=>a.userInfo.email||""),S=L(()=>a.userInfo.isBindWx),T=O(a.userInfo.avatar??me),p=O(a.userInfo.username??"未登录"),y=O(a.userInfo.sign??"我是一台基于深度学习和自然语言处理技术的 AI 机器人，旨在为用户提供高效、精准、个性化的智能服务。"),u=O(!1),{isSmallLg:r,isMobile:B}=be();async function W(){const E=await zt();k.value=E.data||0}async function X(){(await Pt()).success&&b.success("已同步数据完成"),W()}async function R(E){try{u.value=!0;const i=await Mt(E);if(u.value=!1,!i.success)return b.error(i.message);b.success(Bt("common.updateUserSuccess")),a.getUserInfo()}catch{u.value=!1}}function m(){l.value||a.setLoginDialog(!0)}he(()=>{m(),W()});function x(){a.logOut(),P.push("/")}return setTimeout(()=>{t.value=!1},500),(E,i)=>(N(),G(n(At),{"has-sider":"",class:"flex h-full"},{default:c(()=>[n(r)?Z("",!0):(N(),G(n(It),{key:0,"content-style":"padding: 24px;",bordered:"",width:"380"},{default:c(()=>[e("div",Un,[e("div",Hn,[i[8]||(i[8]=e("span",null,"Profile",-1)),f(n(U),{tertiary:"",type:"error",onClick:x},{default:c(()=>i[7]||(i[7]=[F(" 退出登录 ")])),_:1})]),f(n(Pe),{size:148,src:T.value,"fallback-src":n(me)},null,8,["src","fallback-src"]),e("b",Wn,A(p.value),1),e("span",Gn,A(w.value),1),e("div",Xn,A(y.value),1),e("div",Vn,[i[18]||(i[18]=e("div",{class:"text-xl text-primary"}," 我在本站的使用记录 ",-1)),e("div",Yn,[i[9]||(i[9]=e("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"基础模型积分:",-1)),e("div",qn,A(v.value.useModel3Count||"0")+" 积分 ",1)]),e("div",Kn,[i[10]||(i[10]=e("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"高级模型积分:",-1)),e("div",Jn,A(v.value.useModel4Count||"0")+" 积分 ",1)]),e("div",Qn,[i[11]||(i[11]=e("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"基础模型使用:",-1)),e("div",Zn,A(v.value.useModel3Token||"0")+" Token ",1)]),e("div",er,[i[12]||(i[12]=e("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"高级模型使用:",-1)),e("div",tr,A(v.value.useModel4Token||"0")+" Token ",1)]),e("div",nr,[i[13]||(i[13]=e("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"绘画使用积分:",-1)),e("div",rr,A(v.value.useDrawMjToken||"0")+" 积分 ",1)]),d.value?(N(),J("div",or,[i[15]||(i[15]=e("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"绑定微信:",-1)),e("div",sr,[S.value?(N(),J("span",ar,"已绑定微信")):(N(),G(n(U),{key:0,text:"",onClick:i[0]||(i[0]=z=>n(o).updateBindwxDialog(!0))},{default:c(()=>i[14]||(i[14]=[F(" 点击绑定微信 ")])),_:1}))])])):Z("",!0),k.value>0?(N(),J("div",ir,[i[17]||(i[17]=e("span",{class:"flex-shrink-0 w-[100px] text-keft text-primary"},"绑定微信:",-1)),e("div",lr,[f(n(U),{text:"",onClick:X},{default:c(()=>i[16]||(i[16]=[F(" 点击同步访客数据 ")])),_:1})])])):Z("",!0)])]),v.value.expirationTime?(N(),J("div",ur,[i[19]||(i[19]=e("span",null,"会员过期时间：",-1)),e("span",null,A(v.value.expirationTime),1)])):Z("",!0)]),_:1})),e("div",{class:Te(["flex flex-col",[n(B)?"w-full":"flex-1"]]),style:Et({padding:n(B)?"10px":"0 28px 0 28px"})},[f(n(Rt),{title:"个人中心",des:"编辑个人信息、查看更多详情",padding:(n(B),1)},null,8,["padding"]),f(n(Tt),{type:"line",animated:"",class:"mt-5 flex-1"},{default:c(()=>[n(r)?(N(),G(n(ue),{key:0,name:"detail",tab:"我的详情"},{default:c(()=>[f(Bn)]),_:1})):Z("",!0),f(n(ue),{name:"account",tab:"我的钱包"},{default:c(()=>[f(bn)]),_:1}),f(n(ue),{name:"baseInfo",tab:"基础信息"},{default:c(()=>[f(n(se),null,{header:c(()=>[t.value||!l.value?(N(),G(n(fe),{key:0,size:"medium",width:"20%"})):(N(),J("div",dr,"用户基础设置"))]),default:c(()=>[t.value||!l.value?(N(),G(n(Ae),{key:0,vertical:""},{default:c(()=>[f(n(fe),{height:"40px",size:"medium"}),f(n(fe),{height:"40px",size:"medium"}),f(n(fe),{height:"80px",size:"medium"})]),_:1})):(N(),G(n(de),{key:1,"x-gap":"12",cols:1},{default:c(()=>[f(n(Q),null,{default:c(()=>[e("div",cr,[e("span",fr,A(E.$t("setting.avatarLink")),1),e("div",pr,[f(n(oe),{value:T.value,"onUpdate:value":i[1]||(i[1]=z=>T.value=z),placeholder:"请填写头像地址"},null,8,["value"])]),f(n(U),{size:"tiny",text:"",type:"primary",onClick:i[2]||(i[2]=z=>R({avatar:T.value}))},{default:c(()=>[F(A(E.$t("common.update")),1)]),_:1})]),e("div",mr,[e("span",vr,A(E.$t("setting.name")),1),e("div",br,[f(n(oe),{value:p.value,"onUpdate:value":i[3]||(i[3]=z=>p.value=z),placeholder:"请编辑您的用户名",maxlength:"12","show-count":"",clearable:""},null,8,["value"])]),f(n(U),{size:"tiny",text:"",type:"primary",onClick:i[4]||(i[4]=z=>R({username:p.value}))},{default:c(()=>[F(A(E.$t("common.update")),1)]),_:1})]),e("div",gr,[e("span",hr,A(E.$t("setting.sign")),1),e("div",yr,[f(n(oe),{value:y.value,"onUpdate:value":i[5]||(i[5]=z=>y.value=z),placeholder:"请编辑您的签名",maxlength:"128","show-count":"",clearable:"",type:"textarea"},null,8,["value"])]),f(n(U),{size:"tiny",text:"",type:"primary",onClick:i[6]||(i[6]=z=>R({sign:y.value}))},{default:c(()=>[F(A(E.$t("common.update")),1)]),_:1})])]),_:1})]),_:1}))]),_:1})]),_:1}),f(n(ue),{name:"password",tab:"密码管理"},{default:c(()=>[f(In)]),_:1}),f(n(ue),{name:"invite",tab:"邀请得福利"},{default:c(()=>[f(Fn)]),_:1})]),_:1})],6)]),_:1}))}});export{_r as default};
